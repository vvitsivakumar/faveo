import{_ as y,s as b,e as g,D as k}from"../chunks/bootstrap.js";import{r as D,A as v}from"../chunks/adminRouter.js";import{r as c,o as l,c as i,e as r,f as t,t as o,g as L,d,F as h,h as C,i as x,v as V}from"../chunks/vendor.js";import"../chunks/FormGenerator.js";import"../chunks/AdminNavigationBar.js";import"../chunks/DataTableActions.js";import"../chunks/HelpSection.js";const N={name:"custom-language",data(){return{disabled:!0,maxLength:50,module:"",langData:[],loading:!1,pageLoad:!1}},methods:{onUpdate(){this.disabled=!0;let e="";for(let a in this.langData)this.langData[a].modified&&(e+=this.langData[a].language_key+"="+this.langData[a].custom+"&");e[e.length-1]=="&"&&(e=e.slice(0,-1)),e&&(this.loading=!0,axios.post("/admin/custom-language/write-lang?"+e).then(a=>{this.loading=!1,b(a,"custom-lang"),this.pageLoad=!0,this.langData=[],setTimeout(()=>{this.getData(this.module.id)},3e3)}).catch(a=>{this.loading=!1,g(a,"custom-lang")}))},onInput(e,a){this.disabled=!1,a.modified=!0},onChange(e,a){this[a]=e||"",e&&this.getData(e.id)},getData(e){this.loading=!0,axios.get("/admin/custom-language/language?id="+e).then(a=>{this.langData=a.data.data.keys,this.loading=!1,this.pageLoad=!1}).catch(a=>{this.langData=[],this.loading=!1,this.pageLoad=!1,g(a,"custom-lang")})}},components:{"dynamic-select":k}},U={class:"col-sm-12"},w={class:"card card-light"},I={class:"card-header"},S={class:"card-title"},B={key:0,class:"card-tools"},T=["disabled"],A=t("i",{class:"fas fa-sync-alt"},null,-1),E={class:"card-body"},F={class:"row"},H={class:"table table-bordered"},M={key:0,class:"text-center"},z={colspan:"3",class:"pb-3 pt-3"},P=["onUpdate:modelValue","maxlength","onInput"],R={key:1,class:"text-center"},j={colspan:"3"},q={key:2,class:"text-center"},G={colspan:"3"};function J(e,a,Q,W,s,u){const _=c("alert"),p=c("dynamic-select"),f=c("reuse-loader");return l(),i("div",U,[r(_,{componentName:"custom-lang"}),t("div",w,[t("div",I,[t("h3",S,o(e.trans("custom_language")),1),s.module?(l(),i("div",B,[t("button",{class:"btn btn-default btn-md",onClick:a[0]||(a[0]=(...n)=>u.onUpdate&&u.onUpdate(...n)),disabled:s.disabled},[A,L(" "+o(e.trans("update")),1)],8,T)])):d("",!0)]),t("div",E,[t("div",F,[r(p,{label:e.trans("please_select_module"),multiple:!1,name:"module",classname:"col-sm-6",apiEndpoint:"/admin/custom-language/modules",value:s.module,onChange:u.onChange,optionLabel:"module"},null,8,["label","value","onChange"])]),t("table",H,[t("thead",null,[t("tr",null,[t("th",null,o(e.trans("language_key")),1),t("th",null,o(e.trans("default_lang_key_value")),1),t("th",null,o(e.trans("custom_lang_value")),1)])]),t("tbody",null,[s.pageLoad?(l(),i("tr",M,[t("td",z,[r(f,{"animation-duration":4e3,size:60})])])):d("",!0),s.pageLoad?d("",!0):(l(),i(h,{key:1},[s.module&&s.langData.length?(l(!0),i(h,{key:0},C(s.langData,n=>(l(),i("tr",null,[t("td",null,o(n.language_key?n.language_key:"--"),1),t("td",null,o(n.default?n.default:"--"),1),t("td",null,[x(t("input",{type:"text","onUpdate:modelValue":m=>n.custom=m,maxlength:s.maxLength,onInput:m=>u.onInput(n.custom,n),class:"form-control",onkeydown:"return (event.keyCode!=55);"},null,40,P),[[V,n.custom]])])]))),256)):d("",!0),s.module&&!s.langData.length?(l(),i("tr",R,[t("td",j,o(e.trans("no_results_found")),1)])):d("",!0),s.module?d("",!0):(l(),i("tr",q,[t("td",G,o(e.trans("please_select_module_to_see_results")),1)]))],64))])])])])])}const K=y(N,[["render",J]]);let O={path:"/custom-language",component:v,name:"Custom Language",redirect:"/custom-language/settings",children:[{path:"settings",component:K,name:"Custom Language Settings",meta:{title:"custom_language",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"custom_language"}}}]};D.addRoute(O);
