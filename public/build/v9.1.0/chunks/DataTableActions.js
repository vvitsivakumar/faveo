import{_ as D,r as J,p as te,V as x,l as H,c as W,f as U,s as O,e as T,i as K,W as ae,j as B,D as Y,T as le,q as ne,L as se}from"./bootstrap.js";import{V as z,aE as ie,r as m,o as s,b as y,w as g,f as i,i as b,c as o,G as E,v as q,d,F,h as I,t as h,x as oe,a0 as Q,a as A,q as G,e as k,n as M,p as X,j as Z,y as ee,g as w,aY as N,A as de,a4 as re,T as R}from"./vendor.js";const ue={name:"date-time-field",description:"date time field component along with error block",props:{isDateSelector:{type:Boolean,default:!0},numberStyle:{type:Object,default:()=>{}},label:{type:Array,default:()=>[]},hint:{type:String,default:""},value:{type:[String,Date],required:!0},name:{type:[String,Number],required:!0},type:{type:String,default:"text"},onChange:{type:Function,Required:!0},classname:{type:String,default:""},labelStyle:{type:Object},required:{type:Boolean,default:!0},timePickerOptions:{type:Object,default:()=>{}},format:{type:String,default:""},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},range:{type:Boolean},place:{type:String},notBefore:{type:[String,Date]},currentYearDate:{type:Boolean,default:!1},confirm:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},pickers:{type:[Boolean,Array],default:!1}},data(){return{isDatePicker:this.isDateSelector,changedValue:this.value?this.value:null,count:"",options:[{id:"minute",value:"unit_minute"},{id:"hour",value:"unit_hour"},{id:"day",value:"unit_day"},{id:"month",value:"unit_month"}],option:"minute",moment:z}},watch:{value(e,t){this.changedValue=e===""?null:e}},computed:{labelValue(){return this.isDatePicker?this.label[0]:this.label[1]}},beforeMount(){this.updateValue()},methods:{clearFieldValue(){this.changedValue=null,this.onChange(this.changedValue,this.name),window.emitter.emit("updateFilter",{name:this.name,value:this.changedValue})},updateValue(){if(this.value){if(!this.value.includes("::")){this.isDatePicker=!0,this.changedValue=this.value;return}const e=this.value.split("::");if(this.value.includes("last::")){this.isDatePicker=!1;const t=e[1].split("~");this.count=t[0],this.option=t[1],this.onInput()}else this.isDatePicker=!0,this.changedValue=e[1].split("~").map(t=>new Date(t)),this.onDateChange()}},onInput(){this.count?this.onChange("last::"+this.count+"~"+this.option,this.name):this.clearFieldValue()},onDateChange(){this.onChange(this.changedValue,this.name)},checkValue(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(t>31&&(t<48||t>57))e.preventDefault();else return!0},onPaste(e){e=e||window.event,e.preventDefault()}},components:{DatePicker:ie,"form-field-template":J}},ce={class:"input-group"},he=["value"],me={key:0,class:"fas fa-pencil-alt",title:"Enter by hand","aria-hidden":"true"},fe={key:1,class:"far fa-calendar",title:"Use datepicker","aria-hidden":"true"};function _e(e,t,a,u,l,n){const f=m("date-picker"),_=m("form-field-template");return s(),y(_,{label:e.lang(n.labelValue),name:a.name,labelStyle:a.labelStyle,classname:a.classname,hint:a.hint,required:a.required,isClearField:l.isDatePicker,clearField:n.clearFieldValue,value:l.changedValue},{default:g(()=>[i("div",ce,[l.isDatePicker?d("",!0):b((s(),o("input",{key:0,class:"form-control",style:E(a.numberStyle),type:"number",min:"0",id:"range_count","onUpdate:modelValue":t[0]||(t[0]=c=>l.count=c),onInput:t[1]||(t[1]=c=>n.onInput()),placeholder:"n",onKeypress:t[2]||(t[2]=(...c)=>n.checkValue&&n.checkValue(...c)),onPaste:t[3]||(t[3]=(...c)=>n.onPaste&&n.onPaste(...c))},null,36)),[[q,l.count]]),l.isDatePicker?d("",!0):b((s(),o("select",{key:1,id:"range_option",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=c=>l.option=c),onChange:t[5]||(t[5]=c=>n.onInput())},[(s(!0),o(F,null,I(l.options,c=>(s(),o("option",{key:c.id,value:c.id},h(e.lang(c.value)),9,he))),128))],544)),[[oe,l.option]]),l.isDatePicker?(s(),y(f,{key:2,value:l.changedValue,"onUpdate:value":t[6]||(t[6]=c=>l.changedValue=c),lang:"en",type:a.type,"time-picker-options":{start:"00:00",step:"00:30",end:"23:30"},format:a.format,placeholder:a.place,"input-class":"form-control cust-datepicker",onConfirm:t[7]||(t[7]=c=>n.onDateChange()),clearable:!1,confirm:"",range:""},null,8,["value","type","format","placeholder"])):d("",!0),i("button",{class:"btn btn-default range_btn",type:"button",onClick:t[8]||(t[8]=c=>l.isDatePicker=!l.isDatePicker)},[l.isDatePicker?(s(),o("i",me)):(s(),o("i",fe))])])]),_:1},8,["label","name","labelStyle","classname","hint","required","isClearField","clearField","value"])}const pe=D(ue,[["render",_e]]);const be={name:"number-range-field",description:"Number Range component along with error block",props:{label:{type:String,required:!0},hint:{type:String,default:""},value:{required:!0},name:{type:String,required:!0},type:{type:String,default:"text"},onChange:{type:Function,Required:!0},classname:{type:String,default:""},required:{type:Boolean,default:!1},labelStyle:{type:Object},formStyle:{type:Object},min_placeholder:{type:[String,Number],default:"Min"},max_placeholder:{type:[String,Number],default:"Max"}},data(){return{maxValue:"",minValue:""}},beforeMount(){this.updateValue()},methods:{updateValue(){this.value&&(this.minValue=this.value.min,this.maxValue=this.value.max,this.onInput())},onInput(){this.onChange({min:this.minValue,max:this.maxValue},this.name)},checkValue(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(t>31&&(t<48||t>57))e.preventDefault();else return!0},onPaste(e){e=e||window.event,e.preventDefault()}},components:{"form-field-template":J}},ge={class:"inline"},ye=["type","placeholder"],ve=["type","placeholder"];function ke(e,t,a,u,l,n){const f=m("form-field-template");return s(),y(f,{label:a.label,labelStyle:a.labelStyle,name:a.name,classname:a.classname,hint:a.hint,required:a.required},{default:g(()=>[i("span",ge,[b(i("input",{class:"form-control",style:E(a.formStyle),type:a.type,id:"txtMin","onUpdate:modelValue":t[0]||(t[0]=_=>l.minValue=_),onInput:t[1]||(t[1]=_=>n.onInput()),placeholder:a.min_placeholder,onKeypress:t[2]||(t[2]=(..._)=>n.checkValue&&n.checkValue(..._)),onPaste:t[3]||(t[3]=(..._)=>n.onPaste&&n.onPaste(..._))},null,44,ye),[[Q,l.minValue]]),b(i("input",{class:"form-control",style:E(a.formStyle),type:a.type,id:"txtMax","onUpdate:modelValue":t[4]||(t[4]=_=>l.maxValue=_),onInput:t[5]||(t[5]=_=>n.onInput()),placeholder:a.max_placeholder,onKeypress:t[6]||(t[6]=(..._)=>n.checkValue&&n.checkValue(..._)),onPaste:t[7]||(t[7]=(..._)=>n.onPaste&&n.onPaste(..._))},null,44,ve),[[Q,l.maxValue]])])]),_:1},8,["label","labelStyle","name","classname","hint","required"])}const we=D(be,[["render",ke],["__scopeId","data-v-e3829935"]]);const Ce={name:"custom-filter",description:"Custom Fields Filter Component",props:{updateFilterFields:{type:Function,default:()=>{}},selectedFilterFields:{type:Array,default:()=>[]},endPoint:{type:String,required:!0}},data(){return{customFields:[],loading:!0,selectedFields:this.selectedFilterFields,search:"",locale:""}},created(){window.emitter.on("clearCustomFields",this.clearFields)},computed:{filteredList(){return this.customFields.filter(e=>e.label.toLowerCase().includes(this.search.toLowerCase()))}},methods:{clearFields(){this.selectedFields=[]},subString(e){return te(e,10)},onCancel(){var e=document.getElementById("filter-div");e.classList.remove("open")},onClick(e){if(this.selectedFields.map(a=>a.id).includes(e.id)){for(var t in this.selectedFields)if(this.selectedFields[t].id==e.id){this.selectedFields.splice(t,1);break}}else e.name="custom_"+e.id,e.type="text",e.value="",e.className="col-sm-4",this.selectedFields.push(e);this.updateFilterFields(this.selectedFields)},getFields(){this.loading=!0,A.get(this.endPoint).then(e=>{this.loading=!1,this.customFields=e.data.data}).catch(e=>{this.loading=!1})},getCustomFields(e,t){this.customFields=[],this.selectedFields=[],A.get(e).then(a=>{let u=a.data.data;if(u.length){for(var l in u){if(t.length)for(var n in t)t[n].key==u[l].unique&&(u[l].name=t[n].key,u[l].type="text",u[l].className="col-sm-4",u[l].value||(u[l].type=="checkbox"?u[l].value=t[n].value.split(","):u[l].value=t[n].value,this.selectedFields.push(u[l]),this.selectedFields.length===t.length&&this.updateFilterFields(this.selectedFields)));for(var f in this.selectedFields)this.selectedFields[f].id==u[l].id&&(u[l].value=this.selectedFields[f].value)}this.customFields=u}}).catch(a=>{})}}},Se=e=>(X("data-v-770b7ca6"),e=e(),Z(),e),Fe={id:"filter-div",class:"card-tools"},Me=Se(()=>i("i",{class:"fas fa-plus"},null,-1)),De=[Me],Ve={key:0,class:"field_loader nav-item"},Ae={class:"nav-item"},Ee={class:"form-group has-feedback has-search filter_div"},Te=["placeholder"],Pe=["onClick"],Ne={key:0,class:"fa fa-check field_select"},Ue=["title"],Oe={key:0},Ie={class:"text-center"};function Be(e,t,a,u,l,n){const f=m("loader"),_=G("tooltip");return s(),o("div",Fe,[b((s(),o("button",{type:"button",class:"btn btn-tool dropdown-toggle","data-toggle":"dropdown",id:"labels-button",onClick:t[0]||(t[0]=c=>n.getFields())},De)),[[_,e.trans("add_custom_field")]]),i("ul",{id:"filter-dropdown",class:"dropdown-menu dropdown-menu-right filter_menu",onClick:t[2]||(t[2]=c=>c.stopPropagation())},[l.loading?(s(),o("li",Ve,[k(f,{size:30,duration:4e3,color:"#1d78ff"})])):d("",!0),l.loading?d("",!0):(s(),o(F,{key:1},[i("li",Ae,[i("div",Ee,[b(i("input",{type:"text",class:"form-control",name:"label",placeholder:e.trans("search"),"onUpdate:modelValue":t[1]||(t[1]=c=>l.search=c)},null,8,Te),[[q,l.search]])])]),(s(!0),o(F,null,I(n.filteredList,c=>(s(),o("li",{class:"nav-item fields",onClick:C=>n.onClick(c)},[i("a",{class:M(["nav-link",{active:l.selectedFields.map(C=>C.id).includes(c.id)}]),href:"javascript:;"},[l.selectedFields.map(C=>C.id).includes(c.id)?(s(),o("i",Ne)):d("",!0),i("span",{id:"field_title",title:e.trans(c.label)},h(n.subString(c.label)),9,Ue)],2)],8,Pe))),256)),l.customFields.length===0?(s(),o("li",Oe,[i("p",Ie,h(e.trans("no_results_found")),1)])):d("",!0)],64))])])}const qe=D(Ce,[["render",Be],["__scopeId","data-v-770b7ca6"]]);function je(e){const{name:t,iconClass:a}=e;let u={name:[t,"isRequired"],iconClass:[a,"isRequired"]};const l=new x(H),{errors:n,isValid:f}=l.validate(u);return W.dispatch("setValidationError",n),{errors:n,isValid:f}}const Le={props:{color:{type:String,default:""},name:{type:String,default:""},onColor:{type:Function,default:()=>{}},disabled:{type:Boolean,default:!1},showError:{type:[Boolean,String,Number],default:!1},colorError:{type:String,default:""}},data(){return{colorValue:this.color}},mounted(){this.colorValue=this.color,$(this.$refs.colorPicker).colorpicker({format:"hex",color:this.colorValue}).on("colorpickerChange",e=>{this.colorValue=e.color?e.color.toString():"",this.onChange(this.colorValue)})},methods:{getColorValue(){return this.colorValue?this.colorValue:"#ffffff"},onChange(e){this.onColor(e,this.name)}}},Re={class:"form-group"},ze={class:"input-group my-colorpicker2"},xe={class:"input-group-text"};function He(e,t,a,u,l,n){return s(),o("div",Re,[i("div",ze,[b(i("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=f=>l.colorValue=f),ref:"colorPicker"},null,512),[[q,l.colorValue]]),i("div",{class:M(["input-group-append",{"red-border":a.showError||a.colorError}])},[i("span",xe,[i("i",{class:"fas fa-square",style:E("font-size: 20px;color: "+n.getColorValue())},null,4)])],2)])])}const We=D(Le,[["render",He]]),Ye={name:"save-table-filter",props:{showModal:{type:Boolean,default:!1},filterName:{type:String,default:""},icon:{type:[Object,String],default:""},filterValues:{type:Object,default:()=>{}},filterId:{type:[String,Number],default:""},toggleFilterPopUp:{type:Function,default:()=>{}},source:{type:String,default:""},filterArray:{type:Array,default:()=>[]},initialAgents:{type:Array,default:()=>[]},intitialDepartments:{type:Array,default:()=>[]},mode:{type:String,default:"save"},redirectTo:{type:String,default:""},deleteUrl:{type:String,default:""},closeFilter:{type:Function,default:()=>{}},save_endpoint:{type:String,default:""},dashboardWidget:{type:U,default:!1},icon_color:{type:String,default:""},is_default:{type:U,default:!1}},data(){return{loading:!1,name:this.filterName,iconClass:this.icon,iconList:[],agents:this.initialAgents,departments:this.intitialDepartments,isDashboardWidget:this.is_default?!1:this.dashboardWidget,iconColor:this.icon_color?this.icon_color:"#00C0EF"}},beforeMount(){this.mode!="delete"&&this.getIconList()},methods:{isValid(){const{errors:e,isValid:t}=je(this.$data);return t},saveFilter(e){this.isValid()&&(this.$store.dispatch("unsetValidationError"),this.loading=!0,A.post(this.save_endpoint,this.getApiParams(e)).then(t=>{this.loading=!1,O(t,this.$options.name),setTimeout(()=>{this.toggleFilterPopUp(!1),this.closeFilter()},2e3),window.emitter.emit("updateAgentSidebar")}).catch(t=>{this.loading=!1,T(t,this.$options.name)}))},getApiParams(e){return{id:e=="create"?0:this.filterId,name:this.name,source:this.source,icon_class:this.iconClass.icon_class,agents:K(this.agents),departments:K(this.departments),fields:this.formattedFilterData(),is_dashboard_widget:this.isDashboardWidget,icon_color:this.iconColor}},formattedFilterData(){let e=ae(this.filterArray,this.filterValues);return Object.keys(e).filter(t=>U(e[t])).map(t=>{let a=e[t];return{key:t,value:a}})},getIconList(){A.get("/json/icon-list.json").then(e=>{this.iconList=e.data.data}).catch(e=>{this.iconList=[]})},deleteFilter(){this.loading=!0,A.delete(this.deleteUrl).then(e=>{this.loading=!1,O(e,this.$options.name),setTimeout(()=>{this.toggleFilterPopUp(!1,!1),this.$router.push(this.redirectTo)},2e3),window.emitter.emit("updateAgentSidebar")}).catch(e=>{this.loading=!1,T(e,this.$options.name)})},onClose(){this.$store.dispatch("unsetValidationError"),this.$store.dispatch("unsetAlert"),this.toggleFilterPopUp(!1)},onChange(e,t){this[t]=e},showSaveAsNew(){return this.mode!=="delete"},showSave(){return this.mode!=="delete"&&this.filterId!=0&&!this.is_default},showDelete(){return this.mode==="delete"}},components:{"text-field":B,"dynamic-select":Y,"tool-tip":le,"color-picker":We}},Ge={class:"modal-title"},Ke={key:1,class:"row"},Qe={key:2,class:"row"},Je={class:"col-sm-4",style:{"line-height":"2"}},Xe={for:"isDashboardWidget",class:"ml-1"},Ze={key:3,class:"row"},$e={class:"col-sm-6"},et={for:"dashboard-widget-bg-color"},tt={key:4},at={class:"row"},lt={class:"col-sm-4",style:{"line-height":"2"}},nt={class:"row"},st={key:5},it={class:"controls-div"},ot=i("i",{class:"fas fa-sync","aria-hidden":"true"},null,-1),dt=i("i",{class:"fas fa-save","aria-hidden":"true"},null,-1),rt=i("i",{class:"fas fa-trash","aria-hidden":"true"},null,-1);function ut(e,t,a,u,l,n){const f=m("alert"),_=m("custom-loader"),c=m("text-field"),C=m("tool-tip"),p=m("color-picker"),v=m("dynamic-select"),j=m("modal"),L=G("focus-first-input");return s(),y(j,{showModal:!0,onClose:n.onClose},{title:g(()=>[i("h4",Ge,h(a.mode==="save"?e.trans("save_filter"):a.mode==="update"?e.trans("update_filter"):e.trans("delete_filter")),1)]),alert:g(()=>[k(f,{componentName:this.$options.name},null,8,["componentName"])]),fields:g(()=>[l.loading?(s(),y(_,{key:0})):d("",!0),a.mode!="delete"?b((s(),o("div",Ke,[k(c,{name:"name",label:e.trans("name"),value:l.name,onChange:n.onChange,required:!0,classname:"col-md-6"},null,8,["label","value","onChange"])])),[[L]]):d("",!0),a.mode!="delete"?(s(),o("div",Qe,[i("div",Je,[b(i("input",{type:"checkbox",name:"isDashboardWidget",id:"isDashboardWidget","onUpdate:modelValue":t[0]||(t[0]=P=>l.isDashboardWidget=P)},null,512),[[ee,l.isDashboardWidget]]),i("label",Xe,h(e.lang("display_this_filter_on_dashboard")),1)])])):d("",!0),a.mode!="delete"?(s(),o("div",Ze,[i("div",$e,[i("label",et,h(e.lang("icon_color")),1),k(C,{message:e.lang("dashboard_icon_background_color_hint"),size:"small"},null,8,["message"]),k(p,{id:"dashboard-widget-bg-color",name:"iconColor",color:l.iconColor,onColor:n.onChange},null,8,["color","onColor"])]),k(v,{name:"iconClass",label:e.trans("icon_class"),value:l.iconClass,onChange:n.onChange,classname:"col-md-6",elements:l.iconList,multiple:!1,"option-label":"icon_class",required:!0,clearable:!1,hint:e.trans("dashboard_icon_class_hint")},null,8,["label","value","onChange","elements","hint"])])):d("",!0),a.mode!="delete"?(s(),o("section",tt,[i("div",at,[i("div",lt,[i("span",null,[i("strong",null,h(e.trans("share_with")+":"),1)]),k(C,{message:e.trans("share_filter_tooltip_message"),size:"small",placement:"right"},null,8,["message"])])]),i("div",nt,[k(v,{name:"agents",label:e.trans("agents"),value:l.agents,onChange:n.onChange,classname:"col-md-6",apiEndpoint:"/api/dependency/agents",multiple:!0},null,8,["label","value","onChange"]),k(v,{name:"departments",label:e.trans("departments"),value:l.departments,onChange:n.onChange,classname:"col-md-6",apiEndpoint:"/api/dependency/departments",multiple:!0},null,8,["label","value","onChange"])])])):d("",!0),a.mode=="delete"?(s(),o("div",st,[i("span",null,[w(h(e.trans("delete_filter_with_name"))+" ",1),i("strong",null,h(a.filterName),1),w(h(e.trans("created_by_you_confirm")),1)])])):d("",!0)]),controls:g(()=>[i("div",it,[n.showSave()?(s(),o("button",{key:0,type:"button",onClick:t[1]||(t[1]=P=>n.saveFilter("update")),class:"btn btn-primary"},[ot,w(" "+h(e.trans("update")),1)])):d("",!0),n.showSaveAsNew()?(s(),o("button",{key:1,type:"button",onClick:t[2]||(t[2]=P=>n.saveFilter("create")),class:"btn btn-primary"},[dt,w(" "+h(e.trans("save_as_new")),1)])):d("",!0),n.showDelete()?(s(),o("button",{key:2,type:"button",onClick:t[3]||(t[3]=P=>n.deleteFilter()),class:"btn btn-danger"},[rt,w(" "+h(e.trans("delete")),1)])):d("",!0)])]),_:1},8,["onClose"])}const ct=D(Ye,[["render",ut]]);const ht={name:"table-filter",description:"Table filter component",props:{metaData:{type:Array,required:!0},appliedFilters:{type:Object,default:()=>{}},from:{type:String,default:""},showCustomFilter:{type:Boolean,default:!1},updateFields:{type:Function,default:()=>{}},selectedFields:{type:Array,default:()=>[]},endPoint:{type:String,default:""},saveFilter:{type:Boolean,default:!1},filterFor:{type:String,default:""},filterNum:{type:[String,Number],default:""},redirectTo:{type:String,default:""},deleteUrl:{type:String,default:""},closeFilter:{type:Function,default:()=>{}},save_endpoint:{type:String,default:""}},data(){return{moment:z,selectedFilters:this.appliedFilters,close_on_select:!this.multiple,isShowFilter:!1,componentMetaData:this.metaData,loading:!1,formStyle:{width:"49.5%"},numberStyle:{width:"20%"},showModal:!1,filterName:"",selectedFilterId:this.filterNum,departments:[],agents:[],filterMode:"",icon_class:""}},beforeMount(){this.updateSelectedFieldValues(),this.filterNum&&this.getFilterValue()},methods:{updateSelectedFieldValues(){for(var e in this.selectedFields)this.onChange(this.selectedFields[e].value,this.selectedFields[e].name)},onChange(e,t){t==="scheduled_by"&&e&&e.name&&this.$emit("scheduleByChanged",e.name),t==="executed_at"&&e!==null?this.selectedFilters[t]=z(e,"HH:mm").format("HH:mm"):this.selectedFilters[t]=e},onCancel(){this.$emit("selectedFilters","closeEvent")},onApply(){this.$emit("selectedFilters",this.selectedFilters)},onSave(e){this.filterMode=e,this.showModal=!0},toggleFilterPopUp(e){this.showModal=e},onReset(){this.selectedFilters={},this.loading=!0,setTimeout(()=>{this.loading=!1},1e3),this.$emit("selectedFilters","resetEvent")},getFilterValue(){this.loading=!0,axios.get("/service-desk/api/agent/"+this.filterFor+"-filter/"+this.selectedFilterId).then(e=>{this.loading=!1;let t={},a=[];e.data.data.fields.map(u=>{u.key.indexOf("custom_")!==-1?(a.push(u),t[u.key]=u.value):t[u.key]=u.value_meta}),a.length&&this.appendCustomFieldFilter(a),this.selectedFilters=t,this.componentMetaData.map(function(u){u.section.map(function(l){t.hasOwnProperty(l.name)&&(l.value=t[l.name])})}),this.selectedFilterId=e.data.data.id,this.filterName=e.data.data.name,this.icon_class={icon_class:e.data.data.icon_class},this.departments=e.data.data.departments,this.agents=e.data.data.agents}).catch(e=>{})},appendCustomFieldFilter(e){this.$refs.custom_table_filter.getCustomFields(this.endPoint,e)}},components:{"dynamic-select":Y,"date-time-field":pe,"number-range-field":we,"text-field":B,"custom-filter":qe,"save-table-filter":ct,"time-field":ne}},mt={slot:"customActions"},ft={key:0,class:"card-body"},_t={class:"row"},pt={key:1,id:"table-filter"},bt={class:"row"},gt={class:"card-footer"},yt=i("span",{class:"fas fa-check"},null,-1),vt=i("span",{class:"fas fa-sync"},null,-1),kt=i("span",{class:"fas fa-trash-alt"},null,-1),wt=i("span",{class:"fas fa-save"},null,-1),Ct=i("span",{class:"fas fa-undo"},null,-1),St=i("span",{class:"fas fa-times"},null,-1);function Ft(e,t,a,u,l,n){const f=m("custom-filter"),_=m("custom-loader"),c=m("dynamic-select"),C=m("number-range-field"),p=m("text-field"),v=m("date-time-field"),j=m("time-field"),L=m("save-table-filter"),P=m("faveo-box");return s(),y(P,{"box-class":"card card-light ",title:e.lang("filter")},{actions:g(()=>[i("div",gt,[i("button",{id:"filter-apply-btn",class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=(...V)=>n.onApply&&n.onApply(...V))},[yt,w("  "+h(e.lang("apply")),1)]),a.saveFilter?(s(),o(F,{key:0},[a.filterNum?(s(),o(F,{key:0},[i("button",{id:"filter-upd",class:"btn btn-primary",type:"button",onClick:t[1]||(t[1]=V=>n.onSave("update"))},[vt,w("  "+h(e.lang("update")),1)]),i("button",{id:"filetr-del",class:"btn btn-danger",type:"button",onClick:t[2]||(t[2]=V=>n.onSave("delete"))},[kt,w("  "+h(e.lang("delete")),1)])],64)):(s(),o("button",{key:1,id:"filetr-save",class:"btn btn-primary",type:"button",onClick:t[3]||(t[3]=V=>n.onSave("save"))},[wt,w("  "+h(e.lang("save")),1)]))],64)):d("",!0),i("button",{id:"reset-btn",class:"btn btn-primary",type:"button",onClick:t[4]||(t[4]=(...V)=>n.onReset&&n.onReset(...V))},[Ct,w("  "+h(e.lang("reset")),1)]),a.from!=="report"?(s(),o("button",{key:1,id:"filter-cancel-btn",class:"btn btn-danger",type:"button",onClick:t[5]||(t[5]=(...V)=>n.onCancel&&n.onCancel(...V))},[St,w("  "+h(e.lang("cancel")),1)])):d("",!0)])]),default:g(()=>[i("template",mt,[a.showCustomFilter?(s(),y(f,{key:0,updateFilterFields:a.updateFields,selectedFilterFields:a.selectedFields,endPoint:a.endPoint,ref:"custom_table_filter"},null,8,["updateFilterFields","selectedFilterFields","endPoint"])):d("",!0)]),l.loading?(s(),o("div",ft,[i("div",_t,[k(_,{"animation-duration":4e3,color:"#1d78ff",size:60})])])):(s(),o("div",pt,[(s(!0),o(F,null,I(l.componentMetaData,V=>(s(),o("div",bt,[(s(!0),o(F,null,I(V.section,r=>(s(),o(F,null,[r.type!=="date"&&r.type!=="number"&&r.type!=="text"&&r.type!=="time"?(s(),y(c,{key:r.name,id:r.name,name:r.name,apiEndpoint:r.url,classname:r.className,elements:r.elements,multiple:r.isMultiple,label:e.lang(r.label),value:r.value,onChange:n.onChange,strlength:"35",hint:e.lang(r.hint)},null,8,["id","name","apiEndpoint","classname","elements","multiple","label","value","onChange","hint"])):d("",!0),r.type==="number"?(s(),y(C,{label:e.lang(r.label),formStyle:l.formStyle,value:r.value,key:r.name,id:r.name,name:r.name,classname:r.className,type:"text",onChange:n.onChange,min_placeholder:r.min_placeholder,max_placeholder:r.max_placeholder,required:!1},null,8,["label","formStyle","value","id","name","classname","onChange","min_placeholder","max_placeholder"])):d("",!0),r.type==="text"?(s(),y(p,{label:e.lang(r.label),value:r.value,key:r.name,id:r.name,name:r.name,onChange:n.onChange,classname:r.className,required:!1},null,8,["label","value","id","name","onChange","classname"])):d("",!0),r.type==="date"?(s(),y(v,{label:r.label,value:r.value,type:"datetime",key:r.name,id:r.name,name:r.name,onChange:n.onChange,range:r.range,required:!1,format:"MMMM DD YYYY, h:mm a",classname:r.className,clearable:!1,disabled:!1,editable:!0,pickers:r.pickers,currentYearDate:!1,"time-picker-options":r.timeOptions,isDateSelector:!1,numberStyle:l.numberStyle,confirm:!0},null,8,["label","value","id","name","onChange","range","classname","pickers","time-picker-options","numberStyle"])):d("",!0),r.type==="time"?(s(),y(j,{label:e.lang(r.label),value:l.moment(r.value,"HH:mm"),type:"time",key:r.name,id:r.name,name:r.name,onChange:n.onChange,required:!1,place:r.placeholder,format:"HH:mm",classname:r.className,"time-picker-options":r.timeOptions},null,8,["label","value","id","name","onChange","place","classname","time-picker-options"])):d("",!0)],64))),256))]))),256))])),l.showModal?(s(),y(L,{key:2,filterName:l.filterName,icon:l.icon_class,filterValues:l.selectedFilters,filterId:l.selectedFilterId,toggleFilterPopUp:n.toggleFilterPopUp,source:a.filterFor,filterArray:l.componentMetaData,intitialDepartments:l.departments,initialAgents:l.agents,mode:l.filterMode,redirectTo:a.redirectTo,deleteUrl:a.deleteUrl,closeFilter:a.closeFilter,save_endpoint:a.save_endpoint},null,8,["filterName","icon","filterValues","filterId","toggleFilterPopUp","source","filterArray","intitialDepartments","initialAgents","mode","redirectTo","deleteUrl","closeFilter","save_endpoint"])):d("",!0)]),_:1},8,["title"])}const ul=D(ht,[["render",Ft]]),Mt={name:"simple-pagination",props:{prev_page:{type:[String,null],default:""},next_page:{type:[String,null],default:""},onPagination:{type:Function,default:()=>{}},btnStyle:{type:Boolean,default:()=>{}},panel:{type:String,default:"agent"}}},Dt={class:"simple-pagination"},Vt=["disabled"],At=i("i",{class:"fas fa-arrow-left"},null,-1),Et=["disabled"],Tt=i("i",{class:"fas fa-arrow-right"},null,-1);function Pt(e,t,a,u,l,n){return s(),o("div",Dt,[i("button",{class:M(["btn",[a.panel==="client"?"btn-custom":"btn-primary"]]),onClick:t[0]||(t[0]=f=>a.onPagination("previous")),style:E(a.btnStyle),disabled:!a.prev_page},[At,w("   "+h(e.trans("previous")),1)],14,Vt),i("button",{class:M(["btn",[a.panel==="client"?"btn-custom":"btn-primary"]]),onClick:t[1]||(t[1]=f=>a.onPagination("next")),style:E(a.btnStyle),disabled:!a.next_page},[w(h(e.trans("next"))+"  ",1),Tt],14,Et)])}const Nt=D(Mt,[["render",Pt]]);window.app&&app.use(N.ServerTable);const Ut={name:"datatable",description:"Datatable that handles formatting queries in a way that it makes it easy to integrate with external APIs",props:{dataColumns:{type:Array,required:!0},option:{type:Object},url:{type:String},tickets:{type:Function,default:()=>[]},scroll_to:{type:String,default:""},componentTitle:{type:String,default:""},color:{type:String,default:"#1d78ff"},alertComponentName:{type:String,default:""},inputStyle:{type:Object,default:()=>{}},show_pagination:{type:Boolean,default:!1},disableLoader:{type:Boolean,default:!1},btnStyle:{type:Boolean,default:()=>{}},panel:{type:String,default:"agent"}},data(){return{columnArray:this.dataColumns,optionsObj:this.option,endPoint:this.url,showTable:!0,error_message:"",loading:!0,markedRows:[],allMarked:!1,styleObj:{display:"none"},isLoading:!1,counter:0,search_str:"",next_page:"",prev_page:"",total:"",to:"",from:""}},watch:{url(e,t){this.endPoint=e},option(e,t){this.optionsObj=e},dataColumns(e,t){this.columnArray=e,this.show_pagination&&(this.endPoint=this.url)},markedRows(e,t){return this.tickets(this.markedRows),e}},computed:{optionsObject(){const e=this;return e.optionsObj.texts={noResults:e.trans("no_matching_records"),loading:e.trans("loading")},e.optionsObj.headings&&e.optionsObj.headings.hasOwnProperty("id")&&(e.optionsObj.headings.id=function(){return e.h("input",{type:"checkbox",modelValue:e.allMarked,onChange(t){e.allMarked=t.target.checked,e.toggleAll()}})}),this.optionsObj.debounce=700,this.show_pagination&&(this.optionsObj.pagination={show:!1}),this.optionsObj}},mounted(){this.show_pagination&&N.EventBus.on("vue-tables.pagination",()=>{this.endPoint=this.url}),N.EventBus.on("vue-tables."+this.scroll_to+".loading",()=>{this.$emit("loaderState",!0),this.isLoading=!0}),N.EventBus.on("vue-tables."+this.scroll_to+".loaded",()=>{this.isLoading=!1,this.$emit("loaderState",!1)}),N.EventBus.on("vue-tables."+this.scroll_to+".error",()=>{this.isLoading=!1,this.$emit("loaderState",!1)})},created(){window.emitter.on(this.componentTitle+"refreshData",this.onUpdate),window.emitter.on(this.componentTitle+"uncheckCheckbox",this.unselectAll)},methods:{checkFile(){this.$refs.table.setFilter(this.search_str)},unmarkAll(){this.allMarked=!1},unselectAll(){this.allMarked=!1,this.markedRows=[]},toggleAll(){this.markedRows=this.allMarked?this.$refs.table.data.map(e=>e.id):[]},onUpdate(){this.counter++},onError(e){this.alertComponentName&&e&&e.response&&e.response.status?T(e,this.alertComponentName):e&&e.response&&(this.error_message=e.response.data.message,this.onUpdate()),e&&e.response&&e.response.data.message=="Invalid API end-point"?(this.$refs.table.refresh(),this.showTable=!0,this.loading=!0):(this.showTable=!0,this.loading=!1)},onLoaded(e){this.show_pagination&&(this.next_page=e.data.data.next_page_url,this.prev_page=e.data.data.prev_page_url,this.total=e.data.data.total,this.to=e.data.data.to,this.from=e.data.data.from),this.loading=!1,this.styleObj.display="block"},onPagination(e){const t=e==="next"?this.next_page:this.prev_page;if(t){const u=new URL(t).searchParams.get("page");this.endPoint=this.updateQueryParam(this.endPoint,"page",u)}},updateQueryParam(e,t,a){e=e.replace(/([?&])page=\d+/,"");const u=e.includes("?")?"&":"?";return`${e}${u}${t}=${a}`}},components:{"simple-pagination":Nt,loader:se}},Ot={class:"datatable"},It={key:0,class:"row float-right mr-0 mb-3"},Bt={key:0},qt=["placeholder"],jt=["value"],Lt={key:2,class:"callout callout-danger bg-danger"},Rt=i("i",{class:"fa fa-exclamation-triangle"},null,-1),zt={key:3,class:"row faveo-datatable-loader"},xt={class:"pagination-container"},Ht={key:0},Wt={key:1,class:"float-right mr-0 pt-2"};function Yt(e,t,a,u,l,n){const f=m("custom-loader"),_=m("v-server-table"),c=m("loader"),C=m("simple-pagination");return s(),o("div",Ot,[l.showTable?(s(),o("div",It,[a.option.filterable?(s(),o("div",Bt,[b(i("input",{type:"text",class:"form-control globe-search","onUpdate:modelValue":t[0]||(t[0]=p=>l.search_str=p),onKeyup:t[1]||(t[1]=de(p=>n.checkFile(),["enter"])),style:E(a.inputStyle),placeholder:e.lang("type_and_enter_to_search")},null,44,qt),[[q,l.search_str]])])):d("",!0)])):d("",!0),l.showTable?(s(),y(_,{ref:"table",url:l.endPoint,columns:l.columnArray,options:n.optionsObject,onError:n.onError,name:a.scroll_to,onLoaded:n.onLoaded,style:E(l.styleObj),key:l.counter},re({id:g(({row:p})=>[b(i("input",{type:"checkbox",onChange:t[2]||(t[2]=v=>n.unmarkAll()),value:p.id,"onUpdate:modelValue":t[3]||(t[3]=v=>l.markedRows=v)},null,40,jt),[[ee,l.markedRows]])]),_:2},[l.isLoading&&!a.disableLoader?{name:"afterTable",fn:g(()=>[k(f,{loaderType:"clip-loader",color:a.color},null,8,["color"])]),key:"0"}:void 0]),1032,["url","columns","options","onError","name","onLoaded","style"])):d("",!0),!l.showTable&&l.error_message?(s(),o("div",Lt,[i("p",null,[Rt,w(" "+h(e.lang(l.error_message)),1)])])):d("",!0),l.loading&&!a.disableLoader?(s(),o("div",zt,[k(c,{"animation-duration":4e3,color:a.color,size:60},null,8,["color"])])):d("",!0),i("div",xt,[l.showTable&&!l.loading&&a.show_pagination?(s(),o("div",Ht,[l.total==1?(s(),o(F,{key:0},[w(h(e.trans("one_record")),1)],64)):d("",!0),l.total>1&&l.total<=10?(s(),o(F,{key:1},[w(h(l.total)+" "+h(e.trans("records")),1)],64)):d("",!0),l.total>10?(s(),o(F,{key:2},[w(h(e.trans("showing"))+" "+h(l.from)+" to "+h(l.to)+" of "+h(l.total)+" "+h(e.trans("records")),1)],64)):d("",!0)])):d("",!0),l.showTable&&!l.loading&&a.show_pagination&&l.total>10?(s(),o("div",Wt,[k(C,{panel:a.panel,btnStyle:a.btnStyle,next_page:l.next_page,prev_page:l.prev_page,onPagination:n.onPagination},null,8,["panel","btnStyle","next_page","prev_page","onPagination"])])):d("",!0)])])}const cl=D(Ut,[["render",Yt]]);function Gt(e){const{replace_item:t}=e;let a={replace_item:[t,"isRequired"]};const u=new x(H),{errors:l,isValid:n}=u.validate(a);return W.dispatch("setValidationError",l),{errors:l,isValid:n}}const Kt={name:"delete-modal",description:"Delete Modal component",props:{showModal:{type:Boolean,default:!1},replace:{type:Boolean,default:!1},replaceEndpoint:{type:String,default:""},dependency:{type:String,default:""},title:{type:String,default:""},deleteUrl:{type:String},onClose:{type:Function},alertComponentName:{type:String,default:"dataTableModal"},redirectUrl:{type:String,default:""},componentTitle:{type:String,default:""},from:{type:String,default:""},modal_title:{type:String,default:""},buttonText:{type:String,default:""},header:{type:String,default:""},modalMessage:{type:String,default:"are_you_sure_you_want_to_delete_packages"}},data(){return{containerStyle:{width:"650px"},loading:!1,isDisabled:!1,labelStyle:{display:"none"},replace_item:"",apiUrl:this.deleteUrl}},methods:{onChange(e,t){this[t]=e||"",this.apiUrl=this.deleteUrl},isValid(){const{errors:e,isValid:t}=Gt(this.$data);return t},onClick(){this.replace?this.isValid()&&(this.apiUrl=this.apiUrl+"/"+this.replace_item.id,this.onSubmit()):this.onSubmit()},onSubmit(){this.loading=!0,this.isDisabled=!0,this.from!=="template"?A.delete(this.apiUrl).then(e=>{O(e,this.alertComponentName),this.afterRespond()}).catch(e=>{T(e,"delete-modal"),this.componentTitle==="canned-response-index"&&setTimeout(()=>{window.emitter.emit(this.componentTitle+"refreshData")},2e3),this.loading=!1,this.isDisabled=!1}):(window.emitter.emit("updateConfirmation"),this.loading=!1,this.isDisabled=!1,this.onClose())},afterRespond(){window.emitter.emit(this.componentTitle+"refreshData"),window.emitter.emit(this.componentTitle+"uncheckCheckbox"),window.emitter.emit("updateAgentSidebar"),window.emitter.emit("entryDeleted"),this.redirectUrl&&setTimeout(()=>{this.$router.push({path:this.redirectUrl})},3e3),this.alertComponentName=="timeline"&&window.emitter.emit("actionDone","external"),this.alertComponentName=="dashboard-page"&&window.emitter.emit("taskUpdated"),this.onClose(),this.loading=!1,this.isDisabled=!1}},components:{"dynamic-select":Y}},Qt={class:"modal-title"},Jt={key:0},Xt={key:1},Zt={key:1,slot:"fields"},$t=["disabled"];function ea(e,t,a,u,l,n){const f=m("alert"),_=m("dynamic-select"),c=m("loader"),C=m("modal");return a.showModal?(s(),y(C,{key:0,showModal:a.showModal,onClose:a.onClose,containerStyle:a.modal_title?{width:"400px"}:l.containerStyle},{title:g(()=>[i("h4",Qt,h(a.header?a.header:a.modal_title?e.trans(a.modal_title):e.trans("delete")),1)]),alert:g(()=>[k(f,{componentName:"delete-modal"})]),fields:g(()=>[l.loading?d("",!0):(s(),o("div",Jt,[a.replace?(s(),y(_,{key:0,label:e.trans(a.title),multiple:!1,name:"replace_item",required:!0,value:l.replace_item,showTooltipOnLabel:!1,apiEndpoint:a.replaceEndpoint?a.replaceEndpoint:"/api/dependency/"+a.dependency,onChange:n.onChange,clearable:!!l.replace_item},null,8,["label","value","apiEndpoint","onChange","clearable"])):(s(),o("span",Xt,h(a.modal_title?e.trans("are_you_sure"):e.trans(a.modalMessage)),1))])),l.loading?(s(),o("div",Zt,[k(c,{"animation-duration":4e3,color:"#1d78ff",size:60})])):d("",!0)]),controls:g(()=>[i("button",{type:"button",onClick:t[0]||(t[0]=(...p)=>n.onClick&&n.onClick(...p)),class:M(a.modal_title?"btn btn-primary":"btn btn-danger"),disabled:l.isDisabled},[i("i",{class:M([a.buttonText?"":a.modal_title?"fas fa-unlink":"fas fa-trash"]),"aria-hidden":"true",style:{"margin-right":"5px"}},null,2),w(h(a.buttonText?a.buttonText:a.modal_title?e.trans(a.modal_title):e.trans("delete")),1)],10,$t)]),_:1},8,["showModal","onClose","containerStyle"])):d("",!0)}const ta=D(Kt,[["render",ea]]);function aa(e){const{name:t}=e;let a={name:[t,"isRequired","max(50)","min(1)"]};const u=new x(H),{errors:l,isValid:n}=u.validate(a);return W.dispatch("setValidationError",l),{errors:l,isValid:n}}const la={name:"edit-modal",description:"Edit Modal component",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function},data:{type:Object,default:()=>{}},apiUrl:{type:String,default:""},title:{type:String,default:""}},data:()=>({name:"",isDisabled:!1,containerStyle:{width:"500px"},loading:!1,size:60,lang_locale:"",btnName:"save",btnClass:"btn btn-primary",iconClass:"fas fa-save"}),beforeMount(){this.title==="edit"&&(this.btnName="update",this.iconClass="fas fa-sync-alt")},created(){this.lang_locale=localStorage.getItem("LANGUAGE"),this.name=this.data.name},methods:{isValid(){const{errors:e,isValid:t}=aa(this.$data);return!!t},onChange(e,t){this[t]=e},onSubmit(){this.isValid()&&(this.loading=!0,A.post(this.apiUrl,{id:this.data.id,name:this.name}).then(e=>{this.loading=!1,O(e,"dataTableModal"),window.emitter.emit("refreshData"),this.onClose()}).catch(e=>{this.loading=!1,T(e,"dataTableModal")}))}},components:{"text-field":B}},na={class:"modal-title"},sa={key:0,class:"row"},ia={key:1},oa=["disabled"];function da(e,t,a,u,l,n){const f=m("text-field"),_=m("loader"),c=m("modal");return a.showModal?(s(),y(c,{key:0,showModal:a.showModal,onClose:a.onClose,containerStyle:e.containerStyle},{title:g(()=>[i("h4",na,h(e.lang(a.title)),1)]),fields:g(()=>[e.loading?d("",!0):(s(),o("div",sa,[k(f,{label:e.lang("name"),value:e.name,type:"text",name:"name",onChange:n.onChange,classname:"col-sm-12",required:!0},null,8,["label","value","onChange"])])),e.loading?(s(),o("div",ia,[k(_,{"animation-duration":4e3,color:"#1d78ff",size:e.size},null,8,["size"])])):d("",!0)]),controls:g(()=>[i("button",{type:"button",id:"submit",onClick:t[0]||(t[0]=C=>n.onSubmit()),class:M(e.btnClass),disabled:e.loading},[i("i",{class:M(e.iconClass),"aria-hidden":"true"},null,2),w(" "+h(e.lang(e.btnName)),1)],10,oa)]),_:1},8,["showModal","onClose","containerStyle"])):d("",!0)}const ra=D(la,[["render",da]]),ua={name:"edit-modal",description:"Edit Modal component",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function},data:{type:Object,default:()=>{}},apiUrl:{type:String,default:""},title:{type:String,default:""}},data:()=>({name:"",isDisabled:!1,containerStyle:{width:"500px"},loading:!1,size:60,lang_locale:"",btnName:"yes",btnClass:"btn btn-primary",iconClass:"fas fa-save"}),beforeMount(){this.title==="edit"&&(this.btnName="update",this.iconClass="fas fa-sync-alt")},created(){this.lang_locale=localStorage.getItem("LANGUAGE"),this.name=this.data.name},methods:{onSubmit(){this.loading=!0,A.patch(this.apiUrl,{id:this.data.id,name:this.name}).then(e=>{this.loading=!1,O(e,this.data.alertComponentName),window.emitter.emit("refreshData"),this.onClose()}).catch(e=>{this.loading=!1,T(e,this.data.alertComponentName)})}},components:{"text-field":B}},ca={class:"modal-title"},ha={key:0,class:"row"},ma={key:1},fa=["disabled"];function _a(e,t,a,u,l,n){const f=m("loader"),_=m("modal");return a.showModal?(s(),y(_,{key:0,showModal:a.showModal,onClose:a.onClose,containerStyle:e.containerStyle},{title:g(()=>[i("h4",ca,h(e.lang(a.title)),1)]),fields:g(()=>[e.loading?d("",!0):(s(),o("div",ha,h(e.trans("are_you_sure_you_want_to_change_the_status")),1)),e.loading?(s(),o("div",ma,[k(f,{"animation-duration":4e3,color:"#1d78ff",size:e.size},null,8,["size"])])):d("",!0)]),controls:g(()=>[i("button",{type:"button",id:"submit",onClick:t[0]||(t[0]=c=>n.onSubmit()),class:M(e.btnClass),disabled:e.loading},[i("i",{class:M(e.iconClass),"aria-hidden":"true"},null,2),w(" "+h(e.lang(e.btnName)),1)],10,fa)]),_:1},8,["showModal","onClose","containerStyle"])):d("",!0)}const pa=D(ua,[["render",_a]]);const ba={name:"data-table-actions",description:"Contains edit, delete and view buttons as group which can be used as a component as whole. It is built basically for displaying edit, delete and view button in a datable.",props:{data:{type:Object,required:!0},isAdminEditOrDeleteEnabled:{type:Boolean,required:!1},isAuthorAdminEditOrDeleteEnabled:{type:Boolean,required:!1},componentTitle:{type:String,default:""}},data(){return{showModal:!1,showEditModal:!1,showActiveModal:!1,location:this.data.delete_url,alert:"",panel:""}},computed:{disabled(){return U(this.data.is_default)},isEditable(){return this.data.hasOwnProperty("is_edit")?U(this.data.is_edit):!0}},created(){this.updateAlert()},methods:{checkExpiry(){axios.get(this.data.download_check_url).then(e=>{this.redirect(this.data.download_check_url)}).catch(e=>{T(e,"dataTableModal")})},getTip(e){return e.deleteTip?e.deleteTip:"delete"},onToggle(){window.emitter.emit("filterToggleClicked",this.data)},updateAlert(){this.alert=this.data.alertComponentName?this.data.alertComponentName:"dataTableModal",this.panel=this.data.from?this.data.from:"admin"},showModalMethod(){this.data.is_default?this.showModal=!1:this.showModal=!0},showEditModalMethod(){this.data.is_default?this.showEditModal=!1:this.showEditModal=!0},showActivateModalMethod(){this.data.is_default&&this.data.active_status?this.showActiveModal=!1:this.showActiveModal=!0},onClose(){this.showModal=!1,this.showEditModal=!1,this.showActiveModal=!1,this.$store.dispatch("unsetValidationError")}},components:{"delete-modal":ta,"data-table-modal":ra,"data-table-activate-modal":pa}},S=e=>(X("data-v-4f3f1c65"),e=e(),Z(),e),ga={class:"actions-row"},ya=S(()=>i("i",{class:"fas fa-edit"},null,-1)),va=S(()=>i("i",{class:"fas fa-edit"},null,-1)),ka={key:0},wa=["disabled"],Ca=S(()=>i("i",{class:"fas fa-edit"},null,-1)),Sa=[Ca],Fa={key:1},Ma=S(()=>i("button",{class:"btn btn-default table_btn",disabled:!0},[i("i",{class:"fas fa-edit"})],-1)),Da=[Ma],Va=S(()=>i("i",{class:"fas fa-edit"},null,-1)),Aa=S(()=>i("i",{class:"fas fa-cogs"},null,-1)),Ea=["disabled"],Ta=S(()=>i("i",{class:"fas fa-edit"},null,-1)),Pa=[Ta],Na=["href"],Ua=S(()=>i("i",{class:"fas fa-download"},null,-1)),Oa=[Ua],Ia=S(()=>i("i",{class:"fas fa-download"},null,-1)),Ba=[Ia],qa=S(()=>i("i",{class:"fas fa-edit"},null,-1)),ja=[qa],La=S(()=>i("i",{class:"fas fa-eye"},null,-1)),Ra={key:9},za=S(()=>i("i",{class:"fas fa-toggle-off"},null,-1)),xa=[za],Ha={key:1},Wa=["disabled"],Ya=S(()=>i("i",{class:"fas fa-toggle-on"},null,-1)),Ga=[Ya],Ka=["href","target"],Qa=S(()=>i("i",{class:"fas fa-eye"},null,-1)),Ja=[Qa],Xa={key:0},Za=["disabled"],$a=S(()=>i("i",{class:"fas fa-trash"},null,-1)),el=[$a],tl={key:1},al=["disabled"],ll=S(()=>i("i",{class:"fas fa-trash"},null,-1)),nl=[ll],sl={key:2},il=["disabled"];function ol(e,t,a,u,l,n){const f=m("router-link"),_=m("delete-modal"),c=m("data-table-modal"),C=m("data-table-activate-modal"),p=G("tooltip");return s(),o("div",ga,[a.data.edit_url&&l.panel!="agent"?b((s(),y(f,{key:0,class:"btn btn-default table_btn",to:a.data.edit_url,target:a.data.tableName?"_blank":""},{default:g(()=>[ya]),_:1},8,["to","target"])),[[p,e.trans("edit")]]):d("",!0),a.data.edit_url&&l.panel=="agent"?(s(),o(F,{key:1},[n.isEditable&&!a.isAdminEditOrDeleteEnabled?b((s(),y(f,{key:0,class:"btn btn-default table_btn",to:a.data.edit_url},{default:g(()=>[va]),_:1},8,["to"])),[[p,e.trans("edit")]]):(s(),o(F,{key:1},[a.isAdminEditOrDeleteEnabled?b((s(),o("span",ka,[i("button",{class:"btn btn-default table_btn",disabled:a.isAdminEditOrDeleteEnabled},Sa,8,wa)])),[[p,e.trans("task_not_edit")]]):n.disabled&&!a.isAdminEditOrDeleteEnabled?b((s(),o("span",Fa,Da)),[[p,n.disabled?e.trans("default_field_is_not_editable"):e.trans("can_not_edit_change_while_cab_is_in_pending")]]):d("",!0)],64))],64)):d("",!0),a.data.canned_edit_url&&l.panel=="agent"?(s(),o(F,{key:2},[a.data.canned_edit_url?b((s(),o("span",{key:0,class:M(a.isAuthorAdminEditOrDeleteEnabled?"canned_cursor":"")},[a.data.canned_edit_url?(s(),y(f,{key:0,class:M(["btn btn-default table_btn",a.isAuthorAdminEditOrDeleteEnabled?"disabled":""]),to:a.data.canned_edit_url},{default:g(()=>[Va]),_:1},8,["class","to"])):d("",!0)],2)),[[p,a.isAuthorAdminEditOrDeleteEnabled?e.trans("permission_denied_edit_tooltip"):e.trans("edit")]]):d("",!0)],64)):d("",!0),a.data.settings_url?b((s(),y(f,{key:3,class:"btn btn-default table_btn",to:a.data.settings_url,rel:"noopener noreferrer"},{default:g(()=>[Aa]),_:1},8,["to"])),[[p,e.trans("settings")]]):d("",!0),a.data.edit_modal?b((s(),o("a",{key:4,class:"btn btn-default table_btn",onClick:t[0]||(t[0]=(...v)=>n.showEditModalMethod&&n.showEditModalMethod(...v)),href:"javascript:;",disabled:n.disabled},Pa,8,Ea)),[[p,n.disabled?e.trans("default_field_is_not_editable"):e.trans("edit")]]):d("",!0),a.data.download_url?b((s(),o("a",{key:5,class:"btn btn-default table_btn",href:a.data.download_url},Oa,8,Na)),[[p,e.trans("download")]]):d("",!0),a.data.download_check_url?b((s(),o("button",{key:6,class:"btn btn-default table_btn",onClick:t[1]||(t[1]=v=>n.checkExpiry())},Ba)),[[p,e.trans("download")]]):d("",!0),a.data.filter_toggle_url?b((s(),o("a",{key:7,class:"btn btn-default table_btn",href:"javascript:;",onClick:t[2]||(t[2]=(...v)=>n.onToggle&&n.onToggle(...v))},ja)),[[p,e.trans("edit")]]):d("",!0),a.data.view_url?b((s(),y(f,{key:8,class:"btn btn-default table_btn cc",to:a.data.view_url},{default:g(()=>[La]),_:1},8,["to"])),[[p,e.trans("view")]]):d("",!0),a.data.status_toggle_url?(s(),o("span",Ra,[a.data.active_status?b((s(),o("span",Ha,[i("button",{class:"btn btn-default table_btn",disabled:n.disabled,onClick:t[4]||(t[4]=(...v)=>n.showActivateModalMethod&&n.showActivateModalMethod(...v))},Ga,8,Wa)])),[[p,n.disabled?e.trans("default_field_is_not_deactivatable"):e.trans("deactivate")]]):b((s(),o("button",{key:0,class:"btn btn-default table_btn",onClick:t[3]||(t[3]=(...v)=>n.showActivateModalMethod&&n.showActivateModalMethod(...v))},xa)),[[p,e.trans("activate")]])])):d("",!0),a.data.client_view_url?b((s(),o("a",{key:10,class:"btn btn-default table_btn",href:a.data.client_view_url,target:a.data.tableName?"_blank":""},Ja,8,Ka)),[[p,e.trans("view")]]):d("",!0),(s(),o(F,{key:11},[a.isAdminEditOrDeleteEnabled?b((s(),o("span",Xa,[a.data.delete_url?(s(),o("button",{key:0,class:"btn btn-default table_btn",onClick:t[5]||(t[5]=(...v)=>n.showModalMethod&&n.showModalMethod(...v)),disabled:a.isAdminEditOrDeleteEnabled},el,8,Za)):d("",!0)])),[[p,a.isAdminEditOrDeleteEnabled?e.trans("task_not_delete"):e.trans("delete")]]):a.isAuthorAdminEditOrDeleteEnabled?b((s(),o("span",tl,[a.data.delete_url?(s(),o("button",{key:0,class:"btn btn-default table_btn",onClick:t[6]||(t[6]=(...v)=>n.showModalMethod&&n.showModalMethod(...v)),disabled:a.isAuthorAdminEditOrDeleteEnabled},nl,8,al)):d("",!0)])),[[p,a.isAuthorAdminEditOrDeleteEnabled?e.trans("permission_denied_delete_tooltip"):e.trans("delete")]]):n.disabled?d("",!0):b((s(),o("span",sl,[a.data.delete_url?(s(),o("button",{key:0,class:"btn btn-default table_btn",onClick:t[7]||(t[7]=(...v)=>n.showModalMethod&&n.showModalMethod(...v)),disabled:n.disabled},[i("i",{class:M(a.data.deleteicon?a.data.deleteicon:"fas fa-trash")},null,2)],8,il)):d("",!0)])),[[p,n.disabled?e.trans("default_field_is_not_deletable"):e.trans(n.getTip(a.data))]])],64)),k(R,{name:"modal"},{default:g(()=>[l.showModal?(s(),y(_,{key:0,onClose:n.onClose,showModal:l.showModal,deleteUrl:a.data.delete_url,replace:a.data.replace,title:a.data.title,dependency:a.data.dependency,alertComponentName:l.alert,isLinked:e.boolean(a.data.is_linked),dependencyId:a.data.id,modal_title:a.data.deleteTitle,componentTitle:a.componentTitle,modalMessage:a.data.deleteMessage},null,8,["onClose","showModal","deleteUrl","replace","title","dependency","alertComponentName","isLinked","dependencyId","modal_title","componentTitle","modalMessage"])):d("",!0)]),_:1}),k(R,{name:"modal"},{default:g(()=>[l.showEditModal?(s(),y(c,{key:0,title:"edit",onClose:n.onClose,showModal:l.showEditModal,data:a.data,apiUrl:a.data.edit_modal},null,8,["onClose","showModal","data","apiUrl"])):d("",!0)]),_:1}),k(R,{name:"modal"},{default:g(()=>[l.showActiveModal?(s(),y(C,{key:0,title:"toggle_status",onClose:n.onClose,showModal:l.showActiveModal,data:a.data,apiUrl:a.data.status_toggle_url},null,8,["onClose","showModal","data","apiUrl"])):d("",!0)]),_:1})])}const hl=D(ba,[["render",ol],["__scopeId","data-v-4f3f1c65"]]);export{We as C,cl as D,we as N,ct as S,hl as a,ra as b,ta as c,pe as d,ul as e,Nt as f};
