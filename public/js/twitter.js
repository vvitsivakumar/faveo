webpackJsonp([24],{4285:function(e,t,a){e.exports=a(4286)},4286:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(38),n=(a.n(s),a(11)),i=a(27),l=a(31),o=a.n(l),r=a(4287),c=a.n(r),_=(a(24),{path:"/twitter",component:o.a,name:"Twitter",redirect:"/twitter/settings",children:[{path:"settings",component:c.a,name:"Twitter Settings",meta:{title:"twitter_integration_settings",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"twitter"}}}]});i.a.addRoutes([_]);new Vue({el:"#twitter-settings",store:n.a})},4287:function(e,t,a){var s=a(0)(a(4290),a(4291),!1,function(e){a(4288)},null,null);e.exports=s.exports},4288:function(e,t,a){var s=a(4289);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(2)("44923034",s,!0,{})},4289:function(e,t,a){(e.exports=a(1)(!1)).push([e.i,".search{display:none!important}",""])},4290:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),n=a.n(s),i=a(6);t.default={mixins:[{data:function(){return{loadingSpeed:4e3,app_exists:!1,isLoading:!1,loading:!1,consumer_api_key:"",consumer_api_secret:"",access_token:"",access_token_secret:"",required:!0,mode:"create",twitterModelId:null,hashtag_text:[],elements_hashtag:[],isDisabled:!1,appID:"",elements_new_ticket:[{name:"One Day",value:1},{name:"Five Days",value:5},{name:"Ten Days",value:10},{name:"Fifteen Days",value:15},{name:"Thirty Days",value:30}],elements_cron:[{name:"Yes",value:1},{name:"No",value:0}],new_ticket_interval:{name:"Ten Days",value:"10"},cron_confirm:{name:"Yes",value:1},showModal:!1,deleteUrl:"twitter/api/delete"}}}],components:{"text-field":a(12),alert:a(5),"custom-loader":a(9),"dynamic-select":a(13),"data-table":a(14),loader:a(8),modal:a(10)},beforeMount:function(){this.hitApi()},computed:{submitIcon:function(){return this.app_exists?"fas fa-sync":"fas fa-save"}},methods:{hitApi:function(){this.getAppDetails()},onChange:function(e,t){this[t]=e},deleteTwitter:function(){var e=this;this.isLoading=!0,this.isDisabled=!0,n.a.delete(this.deleteUrl+"/"+this.appID).then(function(t){Object(i.b)(t,"TwitterSettingsPageAlert"),e.isLoading=!1,e.showModal=!1,e.loading=!0,e.hitApi()}).catch(function(t){Object(i.a)(t,"TwitterSettingsPageAlert"),e.showModal=!1,e.isLoading=!1})},onSubmit:function(){var e=this,t={consumer_api_key:this.consumer_api_key,consumer_api_secret:this.consumer_api_secret,access_token:this.access_token,access_token_secret:this.access_token_secret,hashtag_text:this.hashtag_text.length?this.hashtag_text.map(function(e){return e.name}):[],cron_confirm:this.cron_confirm.value,reply_interval:this.new_ticket_interval.value};this.loading=!0;var a=void 0,s=void 0;this.app_exists?(a="twitter/api/update/"+this.appID,s="PUT"):(a="twitter/api/create",s="POST"),n.a.request({method:s,url:a,data:t}).then(function(t){Object(i.b)(t,"TwitterSettingsPageAlert"),e.$store.dispatch("unsetValidationError"),e.hitApi()}).catch(function(t){e.loading=!1,Object(i.a)(t,"TwitterSettingsPageAlert")})},getAppDetails:function(){var e=this;this.loading=!0,n.a.get("twitter/api/app").then(function(t){var a=t.data.data.data[0];a?(e.app_exists=!0,e.appID=a.id,e.consumer_api_key=a.consumer_api_key,e.consumer_api_secret=a.consumer_api_secret,e.new_ticket_interval=e.filterValues(e.elements_new_ticket,a.reply_interval),e.access_token=a.access_token,e.access_token_secret=a.access_token_secret,e.hashtag_text=a.hashtags,e.cron_confirm=e.filterValues(e.elements_cron,a.cron),e.loading=!1):(e.app_exists=!1,Object.assign(e.$data,e.$options.data.apply(e)),e.loading=!1)}).catch(function(t){e.loading=!1,Object(i.a)(t,"TwitterSettingsPage")})},filterValues:function(e,t){return e.filter(function(e){if(e.value==t)return e})[0]},toggleModal:function(){this.showModal=!this.showModal},onClose:function(){this.showModal=!1}}}},4291:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-12"},[e.loading?a("custom-loader",{attrs:{duration:e.loadingSpeed}}):e._e(),e._v(" "),a("alert",{attrs:{componentName:"TwitterSettingsPageAlert"}}),e._v(" "),a("div",{staticClass:"card card-light"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[e._v("\n                "+e._s(e.lang("twitter_settings"))+"\n            ")])]),e._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:e.lang("consumer_api_key"),onChange:e.onChange,value:e.consumer_api_key,type:"text",name:"consumer_api_key",required:e.required,classname:"col-sm-6",hint:e.lang("consumer_api_key"),id:"consumer_api_key"}}),e._v(" "),a("text-field",{attrs:{label:e.lang("consumer_api_secret"),onChange:e.onChange,value:e.consumer_api_secret,type:"text",name:"consumer_api_secret",required:e.required,classname:"col-sm-6",hint:e.lang("consumer_api_secret"),id:"consumer_api_secret"}})],1),e._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:e.lang("access_token"),onChange:e.onChange,value:e.access_token,type:"text",name:"access_token",required:e.required,classname:"col-sm-6",hint:e.lang("access_token"),id:"access_token"}}),e._v(" "),a("text-field",{attrs:{label:e.lang("access_token_secret"),onChange:e.onChange,value:e.access_token_secret,type:"text",name:"access_token_secret",required:e.required,classname:"col-sm-6",hint:e.lang("access_token_secret"),id:"access_token_secret"}})],1),e._v(" "),a("div",{staticClass:"row"},[a("dynamic-select",{attrs:{name:"hashtag_text",classname:"col-sm-6",elements:e.elements_hashtag,multiple:!0,prePopulate:!1,label:e.lang("hashtags"),value:e.hashtag_text,onChange:e.onChange,taggable:!0,searchable:!0,disableNoOptionsMessage:!0,hint:e.lang("hashtag_hint")}}),e._v(" "),a("dynamic-select",{attrs:{name:"new_ticket_interval",classname:"col-sm-6",elements:e.elements_new_ticket,multiple:!1,prePopulate:!1,label:e.lang("time_check_twitter"),value:e.new_ticket_interval,onChange:e.onChange,searchable:!1,clearable:!1}})],1),e._v(" "),a("div",{staticClass:"row"},[a("dynamic-select",{attrs:{name:"cron_confirm",classname:"col-sm-6",elements:e.elements_cron,multiple:!1,prePopulate:!1,label:e.lang("cron_label_twitter"),value:e.cron_confirm,onChange:e.onChange,searchable:!1,clearable:!1}})],1)]),e._v(" "),e.loading?e._e():a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.onSubmit}},[a("i",{class:e.submitIcon}),e._v("\n                "+e._s(e.app_exists?e.lang("upd8"):e.lang("save"))+"\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:!e.app_exists},on:{click:e.toggleModal}},[a("i",{staticClass:"glyphicon glyphicon-repeat"}),e._v(" \n                "+e._s(e.lang("reset"))+"\n            ")])])]),e._v(" "),a("transition",{attrs:{name:"modal"}},[e.showModal?a("modal",{attrs:{showModal:!0,onClose:function(){return e.showModal=!1},containerStyle:"width: 500px"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.lang("reset")))])]),e._v(" "),e.isLoading?e._e():a("div",{attrs:{slot:"fields"},slot:"fields"},[a("span",[e._v("\n                    "+e._s(e.lang("reset_confirm"))+"\n                  ")])]),e._v(" "),e.isLoading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{class:{spin:"ar"==e.lang_locale},attrs:{"animation-duration":4e3,color:"#1d78ff",size:e.size}})],1):e._e(),e._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.deleteTwitter}},[a("i",{staticClass:"glyphicon glyphicon-repeat",attrs:{"aria-hidden":"true"}}),e._v("\n                   "+e._s(e.lang("reset"))+"\n                ")])])]):e._e()],1)],1)},staticRenderFns:[]}}},[4285]);