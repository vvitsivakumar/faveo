webpackJsonp([6],{332:function(t,e,a){"use strict";e.a=function(t,e,a){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.timerId,this.remaining=e,this.canUserStopTimer=a,this.canPauseResume=i,this.showTimer=n,this.pause=function(){clearTimeout(this.timerId)},this.getRemaining=function(){return this.remaining},this.resume=function(){var e=this;clearTimeout(this.timerId),this.timerId=setInterval(function(){e.remaining-=1,e.remaining<=0&&(clearTimeout(e.timerId),t())},1e3)},this.resume()}},4252:function(t,e,a){t.exports=a(4253)},4253:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(38);var i=a(11),n={state:{list:[]},getters:{getItems:function(t){return t.list}},mutations:{addUpdateElement:function(t,e){for(var a=!0,i=0;i<t.list.length;i++)if(t.list[i].id===e.id){clearTimeout(t.list[i].timer.timerId),a=!1,t.list[i].data=e.data,t.list[i].status=e.status,t.list[i].timer=e.timer;break}a&&t.list.push(e),t.list.length>3&&t.list.shift()},removeElement:function(t,e){clearTimeout(e.timer),t.list=t.list.filter(function(t){return t.id!==e.id})},clearAll:function(t){t.list=[]}},actions:{addUpdateElement:function(t,e){(0,t.commit)("addUpdateElement",e)},removeElement:function(t,e){(0,t.commit)("removeElement",e)},clearAll:function(t){(0,t.commit)("clearAll")}}},o=a(27),s=a(31),l=a.n(s),r=a(4254),c=a.n(r);a(24);i.a.registerModule("callStore",n);var d={path:"/telephony",component:l.a,name:"Telephony",redirect:"/telephony/settings",children:[{path:"settings",component:c.a,name:"Telephony Settings",meta:{title:"telephony",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"telephone-integration"}}}]};o.a.addRoutes([d]);new Vue({el:"#telephony-settings",store:i.a,components:{"telephone-alert":a(4270)}})},4254:function(t,e,a){var i=a(0)(a(4255),a(4269),!1,null,null,null);t.exports=i.exports},4255:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(6),a(4);var i=a(3),n=(a.n(i),a(15));a.n(n).a.component("telephony-table-actions",a(4256)),e.default={data:function(){return{showModal:!1,data:{id:0,name:""},columns:["name","action"],options:{headings:{name:"Name",action:"Action"},templates:{action:"telephony-table-actions"},filterable:!1,sortable:[],pagination:{chunk:5,nav:"scroll"},requestAdapter:function(t){return{page:t.page,limit:t.limit}},responseAdapter:function(t){var e=t.data;return{data:e.data.data.map(function(t){return t.edit_modal="api/get-providers-list",t}),count:e.data.total}}},apiUrl:"/telephony/api/get-providers-list"}},components:{alert:a(5),"custom-loader":a(9),"data-table":a(14),"tool-tip":a(22)}}},4256:function(t,e,a){var i=a(0)(a(4259),a(4268),!1,function(t){a(4257)},"data-v-186fb567",null);t.exports=i.exports},4257:function(t,e,a){var i=a(4258);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(2)("7947cd34",i,!0,{})},4258:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".block[data-v-186fb567]{display:block!important}",""])},4259:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(3);a.n(i),a(4);e.default={name:"data-table-actions",description:"Contains edit, delete and view buttons as group which can be used as a component as whole. It is built basically for displaying edit, delete and view button in a datable.",props:{data:{type:Object,required:!0}},data:function(){return{showSettingsModal:!1,showEditModal:!1}},methods:{onClose:function(){this.showSettingsModal=!1,this.showEditModal=!1,this.$store.dispatch("unsetValidationError")}},components:{"telephony-settings-modal":a(4260),"telephony-edit-modal":a(4265)}}},4260:function(t,e,a){var i=a(0)(a(4263),a(4264),!1,function(t){a(4261)},"data-v-4b9923ff",null);t.exports=i.exports},4261:function(t,e,a){var i=a(4262);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(2)("75f3f7f2",i,!0,{})},4262:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".telephony_btn[data-v-4b9923ff]{border-top-left-radius:0;border-bottom-left-radius:0;padding-bottom:7px}",""])},4263:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"telephony-settings-modal",description:"Telephony settings modal component",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function},data:{type:Object,default:function(){}}},data:function(){return{department:"",helptopic:"",containerStyle:{width:"800px"},loading:!1,dept_url:this.data.base_url,topic_url:this.data.base_url}},methods:{onChange:function(t,e){this[e]=t,"department"===e&&(this.dept_url=t?this.data.base_url+"/"+t.id+"/department":this.data.base_url),"helptopic"===e&&(this.topic_url=t?this.data.base_url+"/"+t.id+"/helptopic":this.data.base_url)},copyDeptUrl:function(){this.$refs.dept_text.select(),document.execCommand("copy")},copyTopicUrl:function(){this.$refs.topic_text.select(),document.execCommand("copy")}},components:{modal:a(10),loader:a(8),"text-field":a(12),"dynamic-select":a(13)}}},4264:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle},on:{close:function(e){t.showModal=!1}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang("settings")))])]),t._v(" "),t.loading?t._e():a("div",{attrs:{slot:"fields"},slot:"fields"},[a("div",{staticClass:"row"},[a("dynamic-select",{attrs:{label:t.lang("department"),multiple:!1,name:"department",prePopulate:!0,classname:"col-sm-6",apiEndpoint:"/api/dependency/departments",value:t.department,onChange:t.onChange,clearable:!!t.department}}),t._v(" "),a("dynamic-select",{attrs:{label:t.lang("helptopics"),multiple:!1,name:"helptopic",prePopulate:!0,classname:"col-sm-6",apiEndpoint:"/api/dependency/help-topics",value:t.helptopic,onChange:t.onChange,clearable:!!t.helptopic}})],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",[t._v("Department Url")]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{ref:"dept_text",staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.dept_url}}),t._v(" "),a("div",{staticClass:"input-group-btn"},[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("copy"),expression:"lang('copy')"}],staticClass:"btn btn-default telephony_btn",on:{click:t.copyDeptUrl}},[a("i",{staticClass:"fas fa-copy"})])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("label",[t._v("Helptopic Url")]),t._v(" "),a("div",{staticClass:"input-group"},[a("input",{ref:"topic_text",staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:t.topic_url}}),t._v(" "),a("div",{staticClass:"input-group-btn"},[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("copy"),expression:"lang('copy')"}],staticClass:"btn btn-default telephony_btn",on:{click:t.copyTopicUrl}},[a("i",{staticClass:"fas fa-copy"})])])])])])]),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{class:{spin:"ar"==t.lang_locale},attrs:{"animation-duration":4e3,color:"#1d78ff",size:t.size}})],1):t._e()]):t._e()},staticRenderFns:[]}},4265:function(t,e,a){var i=a(0)(a(4266),a(4267),!1,null,null,null);t.exports=i.exports},4266:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(3),n=a.n(i),o=a(6),s=a(4);e.default={name:"telephony-settings-modal",description:"Telephony settings modal component",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function},data:{type:Object,default:function(){}}},data:function(){return{app_id:"",token:"",log_miss_call:"",iso:"",containerStyle:{width:"1000px"},loading:!1,isDisabled:!1,radioOptions:[{name:"yes",value:1},{name:"no",value:0}],conversion_waiting_time:0}},beforeMount:function(){this.getValues()},methods:{getValues:function(){var t=this;this.loading=!0,this.isDisabled=!0,n.a.get("/telephony/api/get-provider-details/"+this.data.short).then(function(e){t.token=Object(s.i)(e.data.data,"key","token").value,t.log_miss_call=Object(s.i)(e.data.data,"key","log_miss_call").value,t.app_id=Object(s.i)(e.data.data,"key","app_id").value,t.iso=Object(s.i)(e.data.data,"key","iso").value,t.fullName=Object(s.i)(e.data.data,"key","name").value,t.shortName=Object(s.i)(e.data.data,"key","short").value,t.conversion_waiting_time=Object(s.i)(e.data.data,"key","conversion_waiting_time").value,t.loading=!1,t.isDisabled=!1}).catch(function(e){t.loading=!1,t.isDisabled=!1,Object(o.a)(e,"telephony-edit")})},onChange:function(t,e){this[e]=t},onSubmit:function(){var t=this;if(this.loading=!0,this.isDisabled=!0,!this.iso)return this.loading=!1,this.isDisabled=!1,this.$store.dispatch("setValidationError",{iso:""}),!1;var e={app_id:this.app_id,token:this.token,log_miss_call:this.log_miss_call,iso:this.iso.iso,conversion_waiting_time:this.conversion_waiting_time};n.a.post("/telephony/api/update-provider-details/"+this.data.short,e).then(function(e){t.loading=!1,t.isDisabled=!1,t.onClose(),Object(o.b)(e,"dataTableModal")}).catch(function(e){t.loading=!1,t.isDisabled=!1,Object(o.a)(e,"telephony-edit")})}},components:{modal:a(10),loader:a(8),"text-field":a(12),"radio-button":a(19),"dynamic-select":a(13),alert:a(5)}}},4267:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle},on:{close:function(e){t.showModal=!1}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang("edit"))+" "+t._s(this.data.name))])]),t._v(" "),t.loading?t._e():a("div",{attrs:{slot:"fields"},slot:"fields"},[a("div",{attrs:{slot:"alert"},slot:"alert"},[a("alert",{attrs:{componentName:"telephony-edit"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("app-id"),value:t.app_id,type:"text",name:"app_id",onChange:t.onChange,classname:"col-sm-6",hint:t.lang("telephony_app_id_hint")}}),t._v(" "),a("text-field",{attrs:{label:t.lang("api_token"),value:t.token,type:"text",name:"token",onChange:t.onChange,classname:"col-sm-6",hint:t.lang("telephony_app_token_hint")}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("conversion_waiting_time"),value:t.conversion_waiting_time,type:"text",name:"conversion_waiting_time",onChange:t.onChange,classname:"col-sm-6",hint:t.lang("conversion_waiting_time_hint")}}),t._v(" "),a("dynamic-select",{attrs:{label:t.lang("select_default_region"),multiple:!1,name:"iso",required:!0,prePopulate:!0,classname:"col-sm-6",apiEndpoint:"/telephony/api/get-regions-list",value:t.iso,onChange:t.onChange,clearable:!!t.iso,hint:t.lang("default_region")}})],1),t._v(" "),a("div",{staticClass:"row"},[a("radio-button",{attrs:{options:t.radioOptions,label:t.lang("log_miss_call"),name:"log_miss_call",value:t.log_miss_call,onChange:t.onChange,classname:"form-group col-sm-6",hint:t.lang("telephony_log_missed_call_hint")}})],1)]),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.isDisabled},on:{click:t.onSubmit}},[a("i",{staticClass:"fas fa-save"}),t._v(" "+t._s(t.lang("save"))+"\n\t\t")])]),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):t._e()]):t._e()},staticRenderFns:[]}},4268:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("edit"),expression:"lang('edit')"}],staticClass:"btn btn-primary btn-sm",attrs:{href:"javascript:;"},on:{click:function(e){t.showEditModal=!0}}},[a("i",{staticClass:"fas fa-edit"})]),t._v(" "),a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("get_webhook_url"),expression:"lang('get_webhook_url')"}],staticClass:"btn btn-primary btn-sm",attrs:{id:"settings-modal-button",href:"javascript:;"},on:{click:function(e){t.showSettingsModal=!0}}},[a("i",{staticClass:"fas fa-link"})]),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showSettingsModal?a("telephony-settings-modal",{attrs:{onClose:t.onClose,showModal:t.showSettingsModal,data:t.data}}):t._e()],1),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showEditModal?a("telephony-edit-modal",{attrs:{onClose:t.onClose,showModal:t.showEditModal,data:t.data}}):t._e()],1)],1)},staticRenderFns:[]}},4269:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[a("alert",{attrs:{componentName:"dataTableModal"}}),t._v(" "),a("div",{staticClass:"card card-light"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.lang("telephony_providers")))]),t._v(" "),a("tool-tip",{attrs:{message:t.lang("telephony_providers_attributes_description"),size:"large"}})],1),t._v(" "),a("div",{staticClass:"card-body"},[a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options}})],1)])],1)},staticRenderFns:[]}},4270:function(t,e,a){var i=a(0)(a(4273),a(4284),!1,function(t){a(4271)},"data-v-81aa8af0",null);t.exports=i.exports},4271:function(t,e,a){var i=a(4272);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(2)("2a60ecd8",i,!0,{})},4272:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"#telephone-alert-box__position[data-v-81aa8af0]{position:fixed;bottom:0;right:2px;z-index:9999}#telephone-alert-box[data-v-81aa8af0]{margin-bottom:.5rem}.slide-fade-enter-active[data-v-81aa8af0]{-webkit-transition:all .1s ease;transition:all .1s ease}.slide-fade-leave-active[data-v-81aa8af0]{-webkit-transition:all .5s cubic-bezier(1,.5,.8,1);transition:all .5s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-81aa8af0],.slide-fade-leave-to[data-v-81aa8af0]{-webkit-transform:translateX(100%);transform:translateX(100%)}",""])},4273:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7),n=a(332),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.default={name:"telephone-alert",data:function(){return{}},props:{user:{type:Number,required:!0}},mounted:function(){var t=this;window.Echo.private("user-notifications."+this.user).listen(".call-started",function(e){console.debug("call-started",e),t.addUpdateItem(e,"started")}).listen(".call-ended",function(e){console.debug("call-ended",e),t.addUpdateItem(e,"ended")})},computed:o({},Object(i.b)(["getItems"])),methods:{onMouseEnter:function(t){t.timer.canPauseResume&&t.timer.canUserStopTimer&&t.timer.pause()},onMouseLeave:function(t){t.timer.canPauseResume&&t.timer.canUserStopTimer&&t.timer.resume()},addUpdateItem:function(t,e){var a=this;if(!this.isDuplicate(t.call_id,e)){var i={id:t.call_id,data:t,status:e};i.timer=new n.a(function(){return a.distoryItem(i)},15,!0),this.$store.dispatch("addUpdateElement",i)}},isDuplicate:function(t,e){var a=this.getItems.find(function(e){return e.id===t});return void 0!==a&&a.status===e},distoryItem:function(t){this.$store.dispatch("removeElement",t)}},beforeDestroy:function(){this.$store.dispatch("clearAll")},components:{"call-popup":a(4274)}}},4274:function(t,e,a){var i=a(0)(a(4277),a(4283),!1,function(t){a(4275)},"data-v-35c1559e",null);t.exports=i.exports},4275:function(t,e,a){var i=a(4276);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(2)("151db0c4",i,!0,{})},4276:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".telephone-alert-box[data-v-35c1559e]{min-width:400px;font-size:16px;border-radius:2px;background-color:#222d32;color:#b8c7ce;-webkit-box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);-webkit-transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1),-webkit-box-shadow .28s cubic-bezier(.4,0,.2,1)}.telephone-alert-box-header[data-v-35c1559e]{border-bottom:1px solid #393939;padding:1rem}.telephone-alert-box-body[data-v-35c1559e]{padding:.7rem}.caller-info[data-v-35c1559e]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.caller-profile-image-avatar[data-v-35c1559e]{vertical-align:middle;width:50px;height:50px;border-radius:100%;border:3px solid #cbcbda;padding:3px}.user-name-and-email[data-v-35c1559e]{padding-left:.7rem}.unknown-user[data-v-35c1559e]{line-height:50px;padding-left:.7rem}#telephone-alert-internal-note[data-v-35c1559e]{font-size:14px}.pointer-cursor[data-v-35c1559e]{cursor:pointer}.padding-top-7[data-v-35c1559e]{padding-top:.7rem}.ticket-unlink-btn[data-v-35c1559e]{padding-left:.3rem}#call-pop-countdown[data-v-35c1559e]{float:right;color:red}.recent-ticket-list-btn[data-v-35c1559e]{position:fixed;right:.7rem}.spinner-grow-small[data-v-35c1559e]{width:.5rem;height:.5rem}",""])},4277:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(332),n=a(6);e.default={name:"call-popup",props:{callData:{type:Object,required:!0}},data:function(){return{userNotificationData:null,internalNote:"",linkedTicketObj:null,loading:!1,showUnlinkBtn:!1,isUserActive:!1}},beforeMount:function(){this.userNotificationData=this.callData,this.linkedTicketObj=this.callData.data.user.linked_ticket},watch:{callData:{handler:function(t,e){this.userNotificationData=t;var a=t.data.user.linked_ticket;a&&(this.linkedTicketObj=a)},deep:!0}},methods:{onStopTimerClick:function(){var t=this;this.isUserActive=!0,clearTimeout(this.userNotificationData.timer.timerId),"ended"===this.userNotificationData.status?this.userNotificationData.timer=new i.a(function(){return t.onSubmit()},this.userNotificationData.data.conversion_waiting_time,!1):this.userNotificationData.timer.showTimer=!1,this.userNotificationData.timer.canPauseResume=!1},unLinkTicket:function(){this.linkedTicketObj=this.callData.data.user.linked_ticket,this.showUnlinkBtn=!1},onTicketClick:function(t){this.callData.data.user.linked_ticket||(this.linkedTicketObj=t,this.showUnlinkBtn=!0)},onSubmit:function(){var t=this;if(clearTimeout(this.userNotificationData.timer.timerId),this.userNotificationData.data.allow_ticket_conversion){this.loading=!0;var e={link_ticket:this.linkedTicketObj?this.linkedTicketObj.id:void 0,notes:this.internalNote?this.internalNote:void 0};axios.post("telephony/api/convert-call-to-ticket/"+this.userNotificationData.id,e).then(function(t){Object(n.b)(t,"root-alert-container")}).catch(function(t){Object(n.a)(t,"root-alert-container")}).finally(function(){t.loading=!1,t.$store.dispatch("removeElement",t.userNotificationData)})}else this.$store.dispatch("removeElement",this.userNotificationData)}},computed:{getUserProfileUrl:function(){return this.userNotificationData.data.user.id?this.basePath()+"/user/"+this.userNotificationData.data.user.id:""},getUserProfiePic:function(){return this.userNotificationData.data.user.profile_pic||""}},components:{"faveo-image-element":a(23),"recent-ticket-list":a(4278)}}},4278:function(t,e,a){var i=a(0)(a(4281),a(4282),!1,function(t){a(4279)},"data-v-1c26ce94",null);t.exports=i.exports},4279:function(t,e,a){var i=a(4280);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(2)("2e8b13a3",i,!0,{})},4280:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".rt_dropdown-content[data-v-1c26ce94]{display:none;position:absolute;right:0;bottom:0;max-width:450px;max-height:60vh;min-width:350px;overflow-y:auto;background-color:#fff;-webkit-box-shadow:0 8px 16px 0 rgba(0,0,0,.2);box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.rt_dropdown-content .ticket-details-element[data-v-1c26ce94]{color:#333;text-decoration:none;display:block;border-bottom:1px solid #dedede}.ticket-details-element[data-v-1c26ce94]{cursor:pointer}.ticket-details-element-table[data-v-1c26ce94]{padding-right:1rem}.rt-ticket-number[data-v-1c26ce94]{color:#b8c7ce}.rt-ticket-number[data-v-1c26ce94]:hover{color:#3c8dbc}.rt_show-list[data-v-1c26ce94]{display:block}.link-ticket-btn[data-v-1c26ce94]{cursor:pointer}",""])},4281:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t};e.default={props:{ticketList:{type:Array,default:function(){return[]}},onTicketClick:{type:Function,required:!0}},data:function(){return{}},mounted:function(){window.onclick=function(t){if(!t.target.matches(".link-ticket-btn"))for(var e=document.getElementsByClassName("rt_dropdown-content"),a=0;a<e.length;a++){var i=e[a];i.classList.contains("rt_show-list")&&i.classList.remove("rt_show-list")}}},computed:n({},Object(i.b)(["formattedTime"])),methods:{openTicketList:function(){document.getElementById("ticket-list-dropdown").classList.toggle("rt_show-list")}}}},4282:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.ticketList&&t.ticketList.length>0?a("div",{staticClass:"link-ticket dropdown"},[a("i",{staticClass:"fa fa-ticket-alt fa-ticket link-ticket-btn",attrs:{id:"link-ticket-btn","aria-hidden":"true",title:t.lang("recent_tickets")},on:{click:function(e){return t.openTicketList()}}}),t._v(" "),a("div",{staticClass:"rt_dropdown-content",attrs:{id:"ticket-list-dropdown"}},t._l(t.ticketList,function(e){return a("div",{key:e.id,staticClass:"ticket-details-element",on:{click:function(a){return t.onTicketClick(e)}}},[a("div",{staticClass:"ticket-details-element-table"},[a("table",[a("tr",[a("td",{style:{"border-left":"5px solid "+e.priority_color},attrs:{rowspan:"3",title:"Priority: "+e.priority}}),t._v(" "),a("td",{staticStyle:{"padding-top":"1rem","padding-left":"1rem"}},[a("b",[t._v(t._s(e.title))])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"padding-left":"1rem"}},[a("small",[a("a",{staticClass:"rt-ticket-number",attrs:{href:t.basePath()+"/thread/"+e.id,target:"_blank"}},[t._v("#"+t._s(e.ticket_number))]),t._v(" "),a("i",{class:e.status_icon,style:{color:e.status_icon_color},attrs:{title:"Status: "+e.status}})])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"padding-bottom":"1rem","padding-left":"1rem"}},[a("small",[t._v(t._s(t.lang("created_at"))+": "),a("b",[t._v(t._s(t.formattedTime(e.created_at)))])])])])])])])}),0)]):t._e()},staticRenderFns:[]}},4283:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"telephone-alert-box"},[a("div",{staticClass:"telephone-alert-box-header"},[a("header",[t._v("\n      "+t._s(t.lang("call_from"))+" "),a("b",[t._v(t._s(t.userNotificationData.data.call_from))]),t._v(" "),t.userNotificationData.timer.showTimer?a("span",[a("span",{attrs:{id:"call-pop-countdown"}},[a("b",[t._v(t._s(t.userNotificationData.timer.getRemaining())+" ")]),t._v(" "),t.userNotificationData.timer.canUserStopTimer?a("i",{staticClass:"fa fa-stop pointer-cursor",attrs:{"aria-hidden":"true",title:t.lang("click_to_stop_counter_otherwise_popup_will_close")},on:{click:t.onStopTimerClick}}):t._e()])]):t._e()])]),t._v(" "),a("div",{staticClass:"telephone-alert-box-body"},[a("div",{staticClass:"caller-info"},[a("faveo-image-element",{staticClass:"caller-profile-image-avatar",attrs:{id:"caller-profile-image","source-url":t.getUserProfiePic}}),t._v(" "),t.userNotificationData.data.is_registered_user?a("div",{staticClass:"user-name-and-email"},[a("a",{attrs:{href:t.getUserProfileUrl,target:"_blank"}},[t._v("\n          "+t._s(t.userNotificationData.data.user.name)+"\n          "),"started"===t.userNotificationData.status&&t.userNotificationData.timer.showTimer?a("sup",[a("span",{staticClass:"spinner-grow text-warning spinner-grow-small"})]):t._e()]),a("br"),t._v(" "),a("small",[t._v(t._s(t.userNotificationData.data.user.email))])]):a("div",{staticClass:"unknown-user"},[t._v("\n        "+t._s(t.lang("unknown_user"))+"\n        "),"started"===t.userNotificationData.status&&t.userNotificationData.timer.showTimer?a("sup",[a("span",{staticClass:"spinner-grow text-warning spinner-grow-small"})]):t._e()]),t._v(" "),a("div",{staticClass:"recent-ticket-list-btn"},[t.isUserActive?a("recent-ticket-list",{attrs:{"ticket-list":t.userNotificationData.data.user.recent_tickets,"on-ticket-click":t.onTicketClick}}):t._e()],1)],1),t._v(" "),t.linkedTicketObj&&t.isUserActive?a("div",{staticClass:"linked-ticket-block padding-top-7"},[a("small",[t._v(t._s(t.lang("linked_ticket"))+": #"),a("a",{attrs:{href:t.basePath()+"/thread/"+t.linkedTicketObj.id,target:"_blank"}},[t._v(t._s(t.linkedTicketObj.ticket_number))]),t._v(" "),t.showUnlinkBtn?a("i",{staticClass:"fa fa-times ticket-unlink-btn pointer-cursor",attrs:{title:"remove_linked_ticket"},on:{click:function(e){return t.unLinkTicket()}}}):t._e()])]):t._e(),t._v(" "),t.isUserActive?a("div",{staticClass:"take-note padding-top-7"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.internalNote,expression:"internalNote"}],staticClass:"form-control",staticStyle:{resize:"none"},attrs:{id:"telephone-alert-internal-note",placeholder:"Add internal note"},domProps:{value:t.internalNote},on:{input:function(e){e.target.composing||(t.internalNote=e.target.value)}}})]):t._e(),t._v(" "),"ended"===t.userNotificationData.status&&t.isUserActive?a("div",{staticClass:"telephone-alert-submit padding-top-7"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:t.loading},on:{click:function(e){return t.onSubmit()}}},[t._v("\n        "+t._s(t.loading?t.lang("submitting"):t.lang("submit"))+"\n      ")])]):t._e()])])},staticRenderFns:[]}},4284:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"telephone-alert-box__position"}},[a("transition-group",{attrs:{name:"slide-fade"}},[t.getItems.length>0?t._l(t.getItems,function(e){return a("div",{key:e.id,attrs:{id:"telephone-alert-box"},on:{mouseenter:function(a){return t.onMouseEnter(e)},mouseleave:function(a){return t.onMouseLeave(e)}}},[a("call-popup",{key:e.id,attrs:{"call-data":e}})],1)}):t._e()],2)],1)},staticRenderFns:[]}}},[4252]);