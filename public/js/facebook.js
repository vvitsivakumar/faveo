webpackJsonp([7],{160:function(t,e,a){var o=a(0)(a(2985),a(2986),!1,null,null,null);t.exports=o.exports},2959:function(t,e,a){t.exports=a(2960)},2960:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(38),n=(a.n(o),a(11)),i=a(27),s=a(31),r=a.n(s),l=a(2961),c=a.n(l),d=a(2969),p=a.n(d),u=a(2974),_=a.n(u),f=a(2979),b=a.n(f),g=(a(24),{path:"/facebook",component:r.a,name:"Facebook",redirect:"/facebook/settings",children:[{path:"settings",component:c.a,name:"Facebook Settings",meta:{title:"facebook_integration_settings",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"facebook_integration_settings"}}},{path:"security-settings",component:p.a,name:"Facebook App Settings",meta:{title:"facebook_app_settings",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"facebook_integration_settings",to:"/facebook"},active:"facebook_app_settings"}}},{path:"integration/create",component:_.a,name:"Facebook Create",meta:{title:"facebook_page_create",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"facebook_integration_settings",to:"/facebook"},active:"facebook_page_create"}}},{path:"integration/:id/edit",component:_.a,name:"Facebook Edit",meta:{title:"facebook_page_edit",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"facebook_integration_settings",to:"/facebook"},active:"facebook_page_edit"}}},{path:"bot-settings",component:b.a,name:"BotIndex Page",meta:{title:"facebook_app_settings_nav",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"facebook_integration_settings",to:"/facebook"},active:"facebook_app_settings_nav"}}}]});i.a.addRoutes([g]);new Vue({el:"#facebook-settings",components:{"fb-bot-create-edit":a(160)},store:n.a})},2961:function(t,e,a){var o=a(0)(a(2964),a(2968),!1,function(t){a(2962)},"data-v-302edb32",null);t.exports=o.exports},2962:function(t,e,a){var o=a(2963);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(2)("683c7d3d",o,!0,{})},2963:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".mr-2[data-v-302edb32]{margin-right:5px}.page-id[data-v-302edb32],.page-name[data-v-302edb32]{width:30%!important;word-break:break-all}.page-action[data-v-302edb32],.page-active[data-v-302edb32]{width:20%!important;word-break:break-all}",""])},2964:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(7),n=(a(6),a(21)),i=(a.n(n),a(3)),s=(a.n(i),a(15)),r=a.n(s),l=a(17),c=a.n(l),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t};r.a.component("switch-action",a(2965)),r.a.component("table-actions-actual",a(20)),e.default={name:"FacebookSettings",description:"Component listing all facebook pages",computed:d({},Object(o.b)(["formattedTime","formattedDate"])),data:function(){return{apiUrl:"facebook/api/integration",loading:!1,columns:["page_name","page_id","status","action"],options:{},dataTableVisible:!0,duration:4e3}},beforeMount:function(){var t=this;this.options={headings:{page_name:"Name",page_id:"Page ID",status:"Status",action:"Actions"},columnsClasses:{page_name:"page-name",page_id:"page-id",status:"page-active",action:"page-action"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{status:"switch-action",action:"table-actions-actual"},requestAdapter:function(t){return{"sort-field":t.orderBy?t.orderBy:"id","sort-order":t.ascending?"desc":"asc","search-query":t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.data.pages.map(function(e){return e.delete_url=t.basePath()+"/facebook/api/integration/"+e.id,e.edit_url="/facebook/integration/"+e.id+"/edit",e}),count:a.data.total}},sortable:["page_name","page_id"],filterable:["page_name","page_id"],pagination:{chunk:5,nav:"fixed",edge:!0}}},components:{alert:a(5),"data-table":a(14),"faveo-box":c.a}}},2965:function(t,e,a){var o=a(0)(a(2966),a(2967),!1,null,null,null);t.exports=o.exports},2966:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(35),n=a.n(o),i=a(6);e.default={components:{"status-switch":n.a},props:["data"],methods:{onChange:function(t,e){this.statusChange(e)},statusChange:function(t){axios.get("facebook/api/integration/status/"+t).then(function(t){Object(i.b)(t,"dataTableModal"),window.eventHub.$emit("refreshData")}).catch(function(t){Object(i.a)(t,"dataTableModal")})}}}},2967:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-group"},[e("status-switch",{key:Math.random(),attrs:{name:this.data.page_id,value:this.data.active,onChange:this.onChange}})],1)},staticRenderFns:[]}},2968:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[t.loading?a("div",{staticClass:"row"},[a("custom-loader",{attrs:{duration:t.duration}})],1):t._e(),t._v(" "),a("alert",{attrs:{componentName:"dataTableModal"}}),t._v(" "),a("faveo-box",{attrs:{title:t.lang("facebook_pages_list")}},[a("div",{staticClass:"card-tools",attrs:{slot:"headerMenu"},slot:"headerMenu"},[a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("facebook_add_page"),expression:"lang('facebook_add_page')"}],staticClass:"btn btn-tool",attrs:{to:"/facebook/integration/create"}},[a("i",{staticClass:"fas fa-plus"})]),t._v(" "),a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("facebook_go_to_security_settings"),expression:"lang('facebook_go_to_security_settings')"}],staticClass:"btn btn-tool",attrs:{to:"/facebook/security-settings"}},[a("i",{staticClass:"fas fa-shield-alt"})]),t._v(" "),a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("facebook_bot_settings"),expression:"lang('facebook_bot_settings')"}],staticClass:"btn btn-tool",attrs:{to:"/facebook/bot-settings"}},[a("i",{staticClass:"fas fa-robot"})])],1),t._v(" "),a("div",{attrs:{id:"page-view"}},[t.dataTableVisible?a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options,scroll_to:"page-view"}}):t._e()],1)])],1)},staticRenderFns:[]}},2969:function(t,e,a){var o=a(0)(a(2972),a(2973),!1,function(t){a(2970)},null,null);t.exports=o.exports},2970:function(t,e,a){var o=a(2971);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(2)("f569f366",o,!0,{})},2971:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".mt-5{margin-top:5rem}.app-id{width:17%!important}.app-id,.app-secret{word-break:break-all}.app-secret{width:25%!important}.app-created{width:18%;word-break:break-all}.app-action{width:10%;word-break:break-all}.app-cron{width:10%!important;word-break:break-all}.app-new-ticket-interval{width:20%!important;word-break:break-all}.search{display:none!important}#H5{margin-left:16px}",""])},2972:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(3),n=a.n(o),i=a(6),s=a(17),r=a.n(s),l=a(7),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t};e.default={computed:c({},Object(l.b)(["formattedTime","formattedDate"])),data:function(){return{fb_secret:"",hub_verify_token:"",appExists:!1,loadingSpeed:4e3,showModal:!1,loading:!1,settingsId:"",containerStyle:{width:"500px"},isLoading:!1}},components:{"text-field":a(12),alert:a(5),"custom-loader":a(9),loader:a(8),"dynamic-select":a(13),modal:a(10),"faveo-box":r.a,"tool-tip":a(22)},beforeMount:function(){this.getAppDetails()},methods:{redirectToPages:function(){this.redirect("/facebook/pages/list")},onChange:function(t,e){this[e]=t},getAppDetails:function(){var t=this;this.loading=!0,n.a.get("facebook/api/security-settings/index").then(function(e){var a=e.data.data;a&&(t.appExists=!0,t.fb_secret=a.fb_secret,t.hub_verify_token=a.hub_verify_token,t.settingsId=a.id,t.loading=!1)}).catch(function(e){Object.assign(t.$data,t.$options.data.apply(t)),t.appExists=!1,t.loading=!1,t.hub_verify_token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},deleteFacebook:function(){var t=this;this.isLoading=!0,this.isDisabled=!0,n.a.delete("facebook/api/security-settings/delete/"+this.settingsId).then(function(t){Object(i.b)(t,"facebookAppSettings")}).catch(function(t){Object(i.a)(t,"facebookAppSettings")}).finally(function(){t.isLoading=!1,t.showModal=!1,t.getAppDetails()})},toggleModal:function(){this.showModal=!this.showModal},onClose:function(){this.showModal=!1},submitter:function(){var t=this,e={fb_secret:this.fb_secret,hub_verify_token:this.hub_verify_token};this.loading=!0;var a=void 0,o=void 0;this.appExists?(a="facebook/api/security-settings/update/"+this.settingsId,o="PUT"):(a="facebook/api/security-settings/create",o="POST"),n.a.request({method:o,url:a,data:e}).then(function(e){Object(i.b)(e,"facebookAppSettings"),t.$store.dispatch("unsetValidationError")}).catch(function(t){Object(i.a)(t,"facebookAppSettings")}).finally(function(){t.loading=!1,t.getAppDetails()})}}}},2973:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[!0===t.loading?a("div",{staticClass:"row"},[a("custom-loader",{attrs:{duration:t.loadingSpeed}})],1):t._e(),t._v(" "),a("alert",{attrs:{componentName:"facebookAppSettings"}}),t._v(" "),a("faveo-box",{attrs:{title:t.lang("facebook_app_settings")}},[a("tool-tip",{attrs:{slot:"headerTooltip",message:t.lang("facebook_security_tooltip"),size:"large"},slot:"headerTooltip"}),t._v(" "),a("div",{staticClass:"card-tools",attrs:{slot:"headerMenu"},slot:"headerMenu"},[a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("facebook_page_settings"),expression:"lang('facebook_page_settings')"}],staticClass:"btn btn-tool",attrs:{to:"/facebook/settings"}},[a("i",{staticClass:"fab fa-facebook-square"})])],1),t._v(" "),a("div",[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("facebook_verify_token"),onChange:t.onChange,value:t.hub_verify_token,type:"text",name:"hub_verify_token",required:!0,classname:"col-sm-6",hint:t.lang("facebook_verify_token_hint"),id:"facebook_verify_token",disabled:!0}}),t._v(" "),a("text-field",{attrs:{label:t.lang("facebook_app_secret"),onChange:t.onChange,value:t.fb_secret,type:"password",name:"fb_secret",required:!0,classname:"col-sm-6",hint:t.lang("facebook_app_secret_hint"),id:"facebook_app_secret"}})],1)]),t._v(" "),a("div",{staticClass:"card-footer",attrs:{slot:"actions"},slot:"actions"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.submitter.apply(null,arguments)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" "+t._s(t.lang("facebook_save"))+"\n      ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.appExists},on:{click:t.toggleModal}},[a("i",{staticClass:"glyphicon glyphicon-repeat"}),t._v(" \n        "+t._s(t.lang("facebook_reset"))+"\n      ")])])],1),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showModal?a("modal",{attrs:{showModal:!0,onClose:function(){return t.showModal=!1},containerStyle:t.containerStyle}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",[t._v(t._s(t.lang("facebook_reset")))])]),t._v(" "),t.isLoading?t._e():a("div",{attrs:{slot:"fields"},slot:"fields"},[a("h5",{attrs:{id:"H5"}},[t._v("\n          "+t._s(t.lang("facebook_reset_confirm"))+"\n        ")])]),t._v(" "),t.isLoading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.deleteFacebook}},[a("i",{staticClass:"glyphicon glyphicon-repeat",attrs:{"aria-hidden":"true"}}),t._v("\n           "+t._s(t.lang("reset"))+"\n        ")])])]):t._e()],1)],1)},staticRenderFns:[]}},2974:function(t,e,a){var o=a(0)(a(2977),a(2978),!1,function(t){a(2975)},"data-v-316b9577",null);t.exports=o.exports},2975:function(t,e,a){var o=a(2976);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(2)("12ec1c0a",o,!0,{})},2976:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"",""])},2977:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(17),n=a.n(o),i=a(3),s=a.n(i),r=a(6),l=a(4);e.default={name:"FacebookCreateEdit",components:{"text-field":a(12),alert:a(5),"custom-loader":a(9),"dynamic-select":a(13),modal:a(10),"faveo-box":n.a},data:function(){return{page_title:"facebook_page_edit",btnName:"save",iconClass:"fas fa-save",hasDataPopulated:!1,id:"",loadingSpeed:4e3,loading:!1,required:!0,page_access_token:"",new_ticket_interval:"",page_name:"",page_id:"",elements_new_ticket:[{name:"One Day",value:"1"},{name:"Five Days",value:"5"},{name:"Ten Days",value:"10"},{name:"Fifteen Days",value:"15"},{name:"Thirty Days",value:"30"}]}},beforeMount:function(){var t=window.location.pathname;this.getValues(t)},methods:{filterValues:function(t,e){return t.filter(function(t){if(t.value==e)return t})[0]},getValues:function(t){var e=Object(l.p)(t);t.indexOf("edit")>=0?(this.page_title="facebook_page_edit",this.iconClass="fas fa-sync-alt",this.btnName="update",this.hasDataPopulated=!1,this.getInitialValues(e)):(this.loading=!1,this.hasDataPopulated=!0)},getInitialValues:function(t){var e=this;this.loading=!0,s.a.get("/facebook/api/integration/edit/"+t).then(function(t){e.loading=!1,e.hasDataPopulated=!0;var a=t.data.data;e.id=a.id,e.page_access_token=a.page_access_token,e.page_id=a.page_id,e.page_name=a.page_name,e.new_ticket_interval=e.filterValues(e.elements_new_ticket,a.new_ticket_interval)}).catch(function(t){e.loading=!1,e.hasDataPopulated=!0,Object(r.a)(t)})},fillFieldsIfEdit:function(){if(this.integrationData){var t=JSON.parse(this.integrationData);this.id=t.id,this.page_access_token=t.page_access_token,this.page_id=t.page_id,this.page_name=t.page_name,this.new_ticket_interval=this.filterValues(this.elements_new_ticket,t.new_ticket_interval)}},onChange:function(t,e){this[e]=t},submit:function(){var t=this;this.loading=!0;var e={page_id:this.page_id,page_access_token:this.page_access_token,page_name:this.page_name,new_ticket_interval:this.new_ticket_interval?this.new_ticket_interval.value:null,verify_token:this.verify_token},a=void 0,o=void 0;this.id?(a="facebook/api/integration/"+this.id,o="PUT"):(a="facebook/api/integration",o="POST"),s.a.request({method:o,url:a,data:e}).then(function(e){t.loading=!1,Object(r.b)(e,"facebookCreateEdit"),t.loading=!1,t.$store.dispatch("unsetValidationError"),t.id||setTimeout(function(){t.$router.push({name:"Facebook Settings"})},3e3)}).catch(function(e){t.loading=!1,Object(r.a)(e,"facebookCreateEdit")})}}}},2978:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[t.hasDataPopulated&&!0!==t.loading?t._e():a("div",{staticClass:"row"},[a("custom-loader",{attrs:{duration:t.loadingSpeed}})],1),t._v(" "),a("alert",{attrs:{componentName:"facebookCreateEdit"}}),t._v(" "),t.hasDataPopulated?a("faveo-box",{attrs:{title:t.id?t.lang("facebook_page_edit"):t.lang("facebook_page_create")}},[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("facebook_page_name"),onChange:t.onChange,value:t.page_name,type:"text",name:"page_name",required:t.required,classname:"col-sm-6",hint:t.lang("facebook_page_name_hint"),id:"facebook_page_name"}}),t._v(" "),a("text-field",{attrs:{label:t.lang("facebook_page_id"),onChange:t.onChange,value:t.page_id,type:"text",name:"page_id",required:t.required,classname:"col-sm-6",hint:t.lang("facebook_page_id_hint"),id:"page_id"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("facebook_page_access_token"),onChange:t.onChange,value:t.page_access_token,type:"password",name:"page_access_token",required:t.required,classname:"col-sm-6",hint:t.lang("facebook_page_access_token_hint"),id:"facebook_page_access_token"}}),t._v(" "),a("dynamic-select",{attrs:{name:"new_ticket_interval",classname:"col-sm-6",elements:t.elements_new_ticket,multiple:!1,prePopulate:!1,label:t.lang("facebook_new_ticket_interval"),value:t.new_ticket_interval,onChange:t.onChange,clearable:!1,searchable:!1,hint:t.lang("facebook_new_ticket_interval_hint"),required:t.required,placeholder:t.lang("facebook_new_ticket_interval_placeholder")}})],1),t._v(" "),a("div",{staticClass:"card-footer",attrs:{slot:"actions"},slot:"actions"},[a("button",{staticClass:"btn btn-primary",on:{click:t.submit}},[a("i",{class:t.iconClass}),t._v("\n                "+t._s(t.lang(t.btnName))+"\n            ")])])]):t._e()],1)},staticRenderFns:[]}},2979:function(t,e,a){var o=a(0)(a(2982),a(2988),!1,function(t){a(2980)},null,null);t.exports=o.exports},2980:function(t,e,a){var o=a(2981);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(2)("083ef568",o,!0,{})},2981:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".bot-action,.bot-appid,.bot-secret{max-width:250px;word-break:break-all}#bot-view .VueTables .table-responsive{overflow-x:auto}#bot-view .VueTables .table-responsive>table{width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:100%;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;overflow:auto!important}",""])},2982:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(15),n=a.n(o),i=a(17),s=a.n(i);n.a.component("bot-table-actions",a(2983)),e.default={name:"fb-bot-settings",data:function(){return{apiUrl:"facebook/api/integration/appGet",columns:["secret","app_id","actions"],options:{},showModal:!1,title:"fb_create_bot",app_id:""}},beforeMount:function(){var t=this;this.options={headings:{secret:"Page ID",app_id:"Primary App ID",actions:"Actions"},columnsClasses:{secret:"bot-secret",app_id:"bot-appid",actions:"bot-action"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{actions:"bot-table-actions"},requestAdapter:function(t){return{"sort-field":t.orderBy?t.orderBy:"id","sort-order":t.ascending?"desc":"asc","search-query":t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.data.map(function(e){return e.delete_url=t.basePath()+"/facebook/api/integration/appDelete/"+e.id,e}),count:a.data.length}},sortable:[],filterable:!1,pagination:{chunk:5,nav:"fixed",edge:!0}}},methods:{addBot:function(){this.showModal=!0},onClose:function(){this.showModal=!1,this.$store.dispatch("unsetValidationError"),this.$store.dispatch("unsetAlert")}},components:{alert:a(5),"data-table":a(14),"bot-create-edit-modal":a(160),"faveo-box":s.a}}},2983:function(t,e,a){var o=a(0)(a(2984),a(2987),!1,null,null,null);t.exports=o.exports},2984:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bot-table-actions",props:{data:{type:Object,required:!0}},data:function(){return{showDeleteModal:!1,showEditModal:!1,title:"fb_bot_edit"}},methods:{onModal:function(t){this[t]=!0,this.$store.dispatch("unsetAlert")},onClose:function(){this.showEditModal=!1,this.showDeleteModal=!1,this.$store.dispatch("unsetValidationError")}},components:{"delete-modal":a(45),"bot-create-edit-modal":a(160)}}},2985:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(6),n=a(3),i=a.n(n),s=a(11),r=a(16),l=a(4);e.default={name:"bot-create-edit-modal",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function},title:{type:String,default:""},app_id:{type:String|Number,default:""}},data:function(){return{containerStyle:{width:"600px"},loading:!1,isDisabled:!1,primary_app_id:"",page_id:"",page_access_token:"",iconClass:"fas fa-save",btnName:"save"}},beforeMount:function(){this.app_id&&(this.iconClass="fas fa-sync",this.btnName="update",this.getData())},methods:{getData:function(){var t=this;this.loading=!0,this.isDisabled=!0,i.a.get("/facebook/api/integration/appGet/"+this.app_id).then(function(e){t.loading=!1,t.isDisabled=!1,t.primary_app_id=e.data.data[0].app_id,t.page_id=e.data.data[0].secret,t.page_access_token=e.data.data[0].access_token}).catch(function(e){t.isDisabled=!1,t.loading=!1,Object(o.a)(e,"bot-create-edit")})},onChange:function(t,e){this[e]=t},isValid:function(){var t=function(t){var e={primary_app_id:[t.primary_app_id,"isRequired"],page_id:[t.page_id,"isRequired"],page_access_token:[t.page_access_token,"isRequired"]},a=new r.Validator(l.u).validate(e),o=a.errors,n=a.isValid;return s.a.dispatch("setValidationError",o),{errors:o,isValid:n}}(this.$data),e=(t.erros,t.isValid);return e},onSubmit:function(){var t=this;if(this.isValid()){this.loading=!0,this.isDisabled=!0;var e={};e.app_id=this.primary_app_id,e.secret=this.page_id,e.access_token=this.page_access_token,i.a.post("/facebook/api/integration/app/"+this.app_id,e).then(function(e){t.loading=!1,t.isDisabled=!1,Object(o.b)(e,"bot-create-edit"),setTimeout(function(){window.eventHub.$emit("refreshData"),t.onClose()},2e3)}).catch(function(e){t.isDisabled=!1,Object(o.a)(e,"bot-create-edit"),t.loading=!1})}}},components:{modal:a(10),"text-field":a(12),alert:a(5),loader:a(8)}}},2986:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.trans(t.title)))])]),t._v(" "),a("div",{attrs:{slot:"alert"},slot:"alert"},[a("alert",{attrs:{componentName:"bot-create-edit"}})],1),t._v(" "),t.loading?t._e():a("div",{attrs:{slot:"fields"},slot:"fields"},[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("primary_app_id"),value:t.primary_app_id,type:"text",name:"primary_app_id",onChange:t.onChange,classname:"col-sm-12",required:!0,hint:t.trans("primary_app_id_hint")}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("page_access_token"),value:t.page_access_token,type:"password",name:"page_access_token",onChange:t.onChange,classname:"col-sm-12",required:!0,hint:t.trans("facebook_page_access_token_hint")}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("page_id"),value:t.page_id,type:"text",name:"page_id",onChange:t.onChange,classname:"col-sm-12",required:!0,hint:t.trans("facebook_page_id_hint")}})],1)]),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.isDisabled},on:{click:function(e){return t.onSubmit()}}},[a("i",{class:t.iconClass}),t._v(" "+t._s(t.trans(t.btnName))+"\n\t\t")])]),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):t._e()]):t._e()},staticRenderFns:[]}},2987:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("edit"),expression:"lang('edit')"}],staticClass:"btn btn-default table_btn",on:{click:function(e){return t.onModal("showEditModal")}}},[a("i",{staticClass:"fas fa-edit"})]),t._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("delete"),expression:"lang('delete')"}],staticClass:"btn btn-default table_btn",on:{click:function(e){return t.onModal("showDeleteModal")}}},[a("i",{staticClass:"fas fa-trash"})]),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showEditModal?a("bot-create-edit-modal",{attrs:{onClose:t.onClose,showModal:t.showEditModal,title:t.title,app_id:t.data.id}}):t._e()],1),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showDeleteModal?a("delete-modal",{attrs:{onClose:t.onClose,showModal:t.showDeleteModal,deleteUrl:t.data.delete_url}}):t._e()],1)],1)},staticRenderFns:[]}},2988:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[a("alert",{attrs:{componentName:"dataTableModal"}}),t._v(" "),a("faveo-box",{attrs:{title:t.trans("facebook_bot_list")}},[a("div",{staticClass:"card-tools",attrs:{slot:"headerMenu"},slot:"headerMenu"},[a("router-link",{staticClass:"btn btn-tool",attrs:{to:"/facebook/settings"}},[a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("facebook_page_settings"),expression:"lang('facebook_page_settings')"}],staticClass:"fab fa-facebook-square"})]),t._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("create_bot"),expression:"trans('create_bot')"}],staticClass:"btn btn-tool",on:{click:function(e){return t.addBot()}}},[a("i",{staticClass:"fas fa-plus"})])],1),t._v(" "),a("div",{attrs:{id:"bot-view"}},[a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options,scroll_to:"bot-view"}})],1)]),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showModal?a("bot-create-edit-modal",{attrs:{onClose:t.onClose,showModal:t.showModal,title:t.title,app_id:t.app_id}}):t._e()],1)],1)},staticRenderFns:[]}}},[2959]);