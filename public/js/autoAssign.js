webpackJsonp([30],{4326:function(t,a,e){t.exports=e(4327)},4327:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(38),n=(e.n(s),e(11)),o=(e(58),e(27)),i=e(31),r=e.n(i),l=e(4328),p=e.n(l),d=(e(24),{path:"/auto-assign",component:r.a,name:"Auto Assign Setting",redirect:"/auto-assign/settings",children:[{path:"settings",component:p.a,name:"AutoAssign Settings",meta:{title:"auto_assign",crumb:{link:{name:"admin_panel",to:"/"},active:"auto_assign"}}}]});o.a.addRoutes([d]),n.a.dispatch("deleteUser"),n.a.dispatch("updateUser");new Vue({el:"#app-auto-assign",store:n.a})},4328:function(t,a,e){var s=e(0)(e(4329),e(4330),!1,null,null,null);t.exports=s.exports},4329:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(6),n=e(3),o=e.n(n),i=e(11),r=e(16),l=e(4);a.default={name:"auto-assign",data:function(){return{status:0,only_login:0,assign_not_accept:0,assign_with_type:0,is_location:0,assign_department_option:"all",threshold:"",department_list:[],radioOptions:[{name:"yes",value:1},{name:"no",value:0}],deptOptions:[{name:"all",value:"all"},{name:"specific",value:"specific"}],loading:!0,hasDataPopulated:!1,pageLoad:!1,is_dept_mgr_auto_approve:1,is_team_lead_auto_approve:1}},beforeMount:function(){this.getValues()},methods:{getValues:function(){var t=this;o.a.get("/api/get-auto-assign").then(function(a){t.loading=!1,t.hasDataPopulated=!0,t.updateStatesWithData(a.data.data.autoAssign)}).catch(function(a){t.loading=!1,t.hasDataPopulated=!0})},updateStatesWithData:function(t){var a=this,e=this.$data;Object.keys(t).map(function(s){e.hasOwnProperty(s)&&(a[s]="assign_department_option"!=s&&"department_list"!=s?parseInt(t[s]):t[s])}),this.threshold=this.threshold?this.threshold:""},onChange:function(t,a){this[a]=t,"all"==this.assign_department_option&&(this.department_list=[])},isValid:function(){var t=function(t){t.threshold,t.assign_department_option,t.department_list;var a={};"specific"===t.assign_department_option&&(a.department_list=[t.department_list,"isRequired"]);var e=new r.Validator(l.u).validate(a),s=e.errors,n=e.isValid;return i.a.dispatch("setValidationError",s),{errors:s,isValid:n}}(this.$data),a=(t.errors,t.isValid);return a},onSubmit:function(){var t=this;if(this.isValid()){this.pageLoad=!0;var a={};a.status=this.status,a.only_login=this.only_login,a.assign_not_accept=this.assign_not_accept,a.assign_with_type=this.assign_with_type,a.is_location=this.is_location,a.threshold=this.threshold,a.assign_department_option=this.assign_department_option,a.is_team_lead_auto_approve=this.is_team_lead_auto_approve,a.is_dept_mgr_auto_approve=this.is_dept_mgr_auto_approve,"specific"===this.assign_department_option&&(a.department_list=this.department_list.map(function(t){return t.id})),o.a.post("/api/auto-assign",a).then(function(a){t.pageLoad=!1,Object(s.b)(a,"AutoAssign"),t.getValues()}).catch(function(a){Object(s.a)(a,"AutoAssign"),t.pageLoad=!1})}},triggerEvent:function(t){13===(t.which||t.keyCode)&&this.onSubmit()}},components:{"radio-button":e(19),"number-field":e(29),"dynamic-select":e(13),loader:e(8),alert:e(5),"custom-loader":e(9)}}},4330:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12"},[e("alert",{attrs:{componentName:"AutoAssign"}}),t._v(" "),e("div",{staticClass:"card card-light"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[t._v(t._s(t.trans("settings")))])]),t._v(" "),e("div",{staticClass:"card-body"},[t.loading||!t.hasDataPopulated?[e("div",{staticClass:"row"},[e("loader",{attrs:{"animation-duration":4e3,size:60}})],1)]:t._e(),t._v(" "),t.hasDataPopulated?[e("div",{staticClass:"row"},[e("radio-button",{attrs:{options:t.radioOptions,label:t.trans("enable"),name:"status",value:t.status,onChange:t.onChange,classname:"form-group col-sm-6"}}),t._v(" "),e("radio-button",{attrs:{options:t.radioOptions,label:t.trans("only-login-agents"),name:"only_login",value:t.only_login,onChange:t.onChange,classname:"form-group col-sm-6"}})],1),t._v(" "),e("div",{staticClass:"row"},[e("radio-button",{attrs:{options:t.radioOptions,label:t.trans("assign-ticket-even-agent-in-non-acceptable-mode"),name:"assign_not_accept",value:t.assign_not_accept,onChange:t.onChange,classname:"form-group col-sm-6"}}),t._v(" "),e("radio-button",{attrs:{options:t.radioOptions,label:t.trans("assign-ticket-with-agent-having-type"),name:"assign_with_type",value:t.assign_with_type,onChange:t.onChange,classname:"form-group col-sm-6"}})],1),t._v(" "),e("div",{staticClass:"row"},[e("radio-button",{attrs:{options:t.radioOptions,label:t.trans("auto_approve_dept_mgr"),name:"is_dept_mgr_auto_approve",value:t.is_dept_mgr_auto_approve,onChange:t.onChange,classname:"form-group col-sm-6"}}),t._v(" "),e("radio-button",{attrs:{options:t.radioOptions,label:t.trans("auto_approve_team_lead_mgr"),name:"is_team_lead_auto_approve",value:t.is_team_lead_auto_approve,onChange:t.onChange,classname:"form-group col-sm-6"}})],1),t._v(" "),e("div",{staticClass:"row"},[e("radio-button",{attrs:{options:t.radioOptions,label:t.trans("assign-ticket-with-agent-having-location"),name:"is_location",value:t.is_location,onChange:t.onChange,classname:"form-group col-sm-6"}}),t._v(" "),e("radio-button",{attrs:{options:t.deptOptions,label:t.trans("auto-assign-enabled-departments"),name:"assign_department_option",value:t.assign_department_option,onChange:t.onChange,classname:"form-group col-sm-6"}})],1),t._v(" "),e("div",{staticClass:"row"},[e("number-field",{attrs:{label:t.trans("maximum-number-of-ticket-can-assign-to-agent"),value:t.threshold,name:"threshold",onChange:t.onChange,classname:"col-sm-6",type:"number",required:!1,keyupListener:t.triggerEvent,placeholder:"n"}}),t._v(" "),"specific"===t.assign_department_option?e("dynamic-select",{attrs:{label:t.trans("select-deparment"),multiple:!0,name:"department_list",classname:"col-sm-6",apiEndpoint:"/api/dependency/departments",value:t.department_list,onChange:t.onChange,strlength:30,required:!0}}):t._e()],1)]:t._e()],2),t._v(" "),e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-primary",on:{click:t.onSubmit}},[e("i",{staticClass:"fas fa-sync"}),t._v(" "+t._s(t.trans("update"))+"\n\t\t\t")])])]),t._v(" "),t.pageLoad?e("div",{staticClass:"row"},[e("custom-loader",{attrs:{duration:4e3}})],1):t._e()],1)},staticRenderFns:[]}}},[4326]);