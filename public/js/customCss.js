webpackJsonp([20],{3199:function(t,e,a){t.exports=a(3200)},3200:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(11),n=a(27),i=a(31),o=a.n(i),r=a(3201),c=a.n(r),u=a(3204),l=a.n(u),d=(a(24),{path:"/custom-css",component:o.a,name:"CustomCSS",redirect:"/custom-css/settings",children:[{path:"settings",component:c.a,name:"CustomCss Settings",meta:{title:"custom-css",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"custom-css"}}},{path:"create",component:l.a,name:"CustomCss Create",meta:{title:"custom-css",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"custom-css",to:"/custom-css"},active:"create"}}},{path:"edit/:id",component:l.a,name:"CustomCss Edit",meta:{title:"custom-css",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"custom-css",to:"/custom-css"},active:"edit"}}}]});n.a.addRoutes([d]),new Vue({el:"#custom-css",store:s.a})},3201:function(t,e,a){var s=a(0)(a(3202),a(3203),!1,null,null,null);t.exports=s.exports},3202:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(15),n=a.n(s),i=a(17),o=a.n(i),r=a(14),c=a.n(r),u=a(20),l=a.n(u),d=a(5),m=a.n(d),f=a(7),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};n.a.component("table-actions",l.a),e.default={name:"CustomCssIndex",components:{FaveoBox:o.a,DataTable:c.a,Alert:m.a},computed:p({},Object(f.b)(["formattedTime","formattedDate"])),data:function(){return{apiUrl:"get-custom-css",loading:!1,columns:["name","fired_at","fire","action"],options:{}}},methods:{addPage:function(){this.redirect("/custom-css/create")}},beforeMount:function(){var t=this;this.options={headings:{name:"Name",fired_at:"Fired at",fire:"Status",action:"Actions"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{fire:function(t,e){return 1==e.fire?"Active":0==e.fire?"Inactive":void 0},fired_at:function(t,e){return e.formatted_fired_at?e.formatted_fired_at:e.fired_at},action:"table-actions"},requestAdapter:function(t){return{"sort-field":t.orderBy?t.orderBy:"id","sort-order":t.ascending?"desc":"asc","search-query":t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.message.data.map(function(e){return e.delete_url=t.basePath()+"/custom-css/delete/"+e.id,e.edit_url="/custom-css/edit/"+e.id,e}),count:a.message.total}},sortable:["name"],filterable:["name"],pagination:{chunk:5,nav:"fixed",edge:!0}}}}},3203:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main col-sm-12"},[e("alert",{attrs:{componentName:"dataTableModal"}}),this._v(" "),e("faveo-box",{attrs:{title:this.lang("custom-css")}},[e("div",{staticClass:"card-tools",attrs:{slot:"headerMenu"},slot:"headerMenu"},[e("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:this.lang("add"),expression:"lang('add')"}],staticClass:"btn btn-tool",attrs:{to:"/custom-css/create"}},[e("i",{staticClass:"fas fa-plus"})])],1),this._v(" "),e("div",{staticClass:"row",attrs:{id:"custom-css-view"}},[e("data-table",{staticClass:"col-sm-12",attrs:{url:this.apiUrl,dataColumns:this.columns,option:this.options,scroll_to:"custom-css-view"}})],1)])],1)},staticRenderFns:[]}},3204:function(t,e,a){var s=a(0)(a(3205),a(3206),!1,null,null,null);t.exports=s.exports},3205:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(26),n=a.n(s),i=a(12),o=a.n(i),r=a(17),c=a.n(r),u=a(19),l=a.n(u),d=a(3),m=a.n(d),f=a(5),p=a.n(f),h=a(9),v=a.n(h),g=a(6),b=a(25),_=a.n(b);function C(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,i){try{var o=e[n](i),r=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(r).then(function(t){s("next",t)},function(t){s("throw",t)});t(r)}("next")})}}e.default={name:"CustomCssCreateEdit",components:{"text-field":o.a,"faveo-box":c.a,"radio-button":l.a,alert:p.a,loader:v.a,"static-select":_.a},data:function(){return{name:"",fired_at:"",firedAtElements:[{id:"adminlayout",name:"Admin Layout"},{id:"agentlayout",name:"Agent Layout"},{id:"clientlayout",name:"Client Layout"}],radioOptions:[{name:"Active",value:1},{name:"Inactive",value:0}],isDisabled:!1,script:"",fire:1,loading:!1,idForEdit:0}},beforeMount:function(){this.setDefaultProps()},mounted:function(){this.idForEdit&&this.getDetailsForEdit()},computed:{componentTitle:function(){return this.idForEdit?this.lang("custom_css_edit"):this.lang("custom_css_create")}},methods:{setDefaultProps:function(){var t=location.href;if(t.includes("edit")){var e=t.split("/").length;this.idForEdit=t.split("/")[e-1]}},onChange:function(t,e){this[e]=t},submit:function(){var t=C(n.a.mark(function t(){var e,a,s,i,o=this;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e=void 0,a=void 0,s={fired_at:this.fired_at,script:this.script,name:this.name,fire:this.fire},this.idForEdit?(e="custom-css/edit/"+this.idForEdit,a="PATCH"):(e="custom-css/create",a="POST"),t.prev=4,t.next=7,m.a.request({method:a,url:e,data:s});case 7:i=t.sent,this.$store.dispatch("unsetValidationError"),Object(g.b)(i,"customCss"),this.idForEdit?this.redirect(window.location.href.replace(this.basePath(),"")):"adminlayout"==this.fired_at?this.redirect("/admin/custom-css/settings"):setTimeout(function(){o.$router.push({name:"CustomCss Settings"})},2e3),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),Object(g.a)(t.t0,"customCss");case 16:return t.prev=16,this.loading=!1,t.next=20,this.getDetailsForEdit();case 20:return t.finish(16);case 21:case"end":return t.stop()}},t,this,[[4,13,16,21]])}));return function(){return t.apply(this,arguments)}}(),getDetailsForEdit:function(){var t=C(n.a.mark(function t(){var e,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("custom-css/"+this.idForEdit);case 3:e=t.sent,a=e.data,this.updateStatesWithData(a.message),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),updateStatesWithData:function(t){var e=this,a=this.$data;Object.keys(t).map(function(s){a.hasOwnProperty(s)&&(e[s]=t[s])})}}}},3206:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12",attrs:{id:"main"}},[a("alert",{attrs:{componentName:"customCss"}}),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),a("faveo-box",{attrs:{title:t.componentTitle}},[a("div",{staticClass:"row"},[a("text-field",{attrs:{name:"name",value:t.name,"on-change":t.onChange,label:t.lang("name"),type:"text",required:!0,classname:"col-sm-4"}}),t._v(" "),a("static-select",{attrs:{name:"fired_at",value:t.fired_at,"on-change":t.onChange,label:t.lang("fired_at"),elements:t.firedAtElements,required:!0,classname:"col-sm-4"}}),t._v(" "),a("radio-button",{attrs:{options:t.radioOptions,label:t.lang("fire-css"),name:"fire",value:t.fire,onChange:t.onChange,classname:"col-sm-4"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{value:t.script,name:"script",type:"textarea","on-change":t.onChange,classname:"col-sm-12",label:t.lang("script"),required:!0,rows:"6"}})],1),t._v(" "),a("div",{staticClass:"card-footer",attrs:{slot:"actions"},slot:"actions"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"submitter",disabled:t.isDisabled},on:{click:t.submit}},[a("i",{staticClass:"fas fa-save",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.lang("submit"))+"\n           ")])])])],1)},staticRenderFns:[]}}},[3199]);