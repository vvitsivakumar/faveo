webpackJsonp([17],{4380:function(t,e,a){t.exports=a(4381)},4381:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(11),i=a(27),r=a(31),n=a.n(r),s=a(4382),c=a.n(s),l=a(4385),d=a.n(l),p=(a(24),{path:"/tickets-archive",component:n.a,name:"TicketArchive",redirect:"/tickets-archive/settings",children:[{path:"show",component:d.a,name:"TicketArchiveShow",meta:{title:"ticket-archive-show",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"show"}}},{path:"settings",component:c.a,name:"TicketArchive Settings",meta:{title:"ticket-archive",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"setup"}}}]});i.a.addRoutes([p]),new Vue({el:"#ticket-archive",store:o.a})},4382:function(t,e,a){var o=a(0)(a(4383),a(4384),!1,null,null,null);t.exports=o.exports},4383:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(3),i=a.n(o),r=a(6),n=a(4),s=(a(7),a(21),a(11)),c=a(16);var l=a(12),d=a.n(l),p=a(13),u=a.n(p);a(333),e.default={name:"ticket-archive",data:function(){return{alreadySetup:0,iconClass:"fas fa-save",hasDataPopulated:!1,loading:!1,apiEndpoint:"",host:"",database:"",username:"",password:"",port:"",numberoftickets:"",numberofdays:"",numberofticketdelete:""}},beforeMount:function(){this.getTicketArchiveSettings(),this.getBackupDatabaseSettings(),this.getValues()},methods:{getBackupDatabaseSettings:function(){var t=this;i.a.get("/ticket-archive/get-connection-details").then(function(e){var a=e.data.data;t.host=a.hostname,t.database=a.database,t.username=a.username,t.password=a.password,t.port=a.port})},getTicketArchiveSettings:function(){var t=this;i.a.get("/ticket-archive/get-settings").then(function(e){var a=e.data.data;t.numberoftickets=a.no_of_tickets,t.numberofdays=a.no_of_days,t.numberofticketdelete=a.no_of_ticket_delete})},getValues:function(){this.title="ticket-archive",this.hasDataPopulated=!0,this.apiEndpoint="/ticket-archive/save-setting"},onChange:function(t,e){this[e]=t||""},isValid:function(){var t=function(t){var e={host:[t.host,"isRequired"],username:[t.username,"isRequired"],database:[t.database,"isRequired"],password:[t.password,"isRequired"],port:[t.port,"isRequired"]},a=new c.Validator(n.u).validate(e),o=a.errors,i=a.isValid;return s.a.dispatch("setValidationError",o),{errors:o,isValid:i}}(this.$data),e=(t.errors,t.isValid);return e},onSubmit:function(){var t=this;if(this.isValid()){this.loading=!0;var e={};e.host=this.host,e.database=this.database,e.username=this.username,e.password=this.password,e.port=this.port,i.a.post(this.apiEndpoint,e).then(function(e){t.loading=!1,Object(r.b)(e,"ticket-archive")}).catch(function(e){t.loading=!1,Object(r.a)(e,"ticket-archive")})}},validateSetting:function(){var t=this;this.loading=!0;var e={};e.numberoftickets=this.numberoftickets,e.numberofdays=this.numberofdays,e.numberofticketdelete=this.numberofticketdelete,i.a.post("/ticket-archive/archive-setting",e).then(function(e){t.loading=!1,Object(r.b)(e,"ticket-archive")}).catch(function(e){t.loading=!1,Object(r.a)(e,"ticket-archive")})}},components:{"custom-loader":a(9).default,TextField:d.a,DynamicSelect:u.a}}},4384:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[!t.hasDataPopulated||t.loading?a("div",{staticClass:"row"},[a("custom-loader",{attrs:{duration:4e3}})],1):t._e(),t._v(" "),a("alert",{attrs:{componentName:"ticket-archive"}}),t._v(" "),a("div",{staticClass:"card card-light"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.trans("database-connection")))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("host"),value:t.host,onChange:t.onChange,name:"host",type:"text",classname:"col-sm-6",required:!0,placehold:"Enter a Value"}}),t._v(" "),a("text-field",{attrs:{label:t.trans("database"),value:t.database,onChange:t.onChange,name:"database",type:"text",classname:"col-sm-6",required:!0,placehold:"Enter a Value"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("username"),value:t.username,onChange:t.onChange,name:"username",type:"text",classname:"col-sm-6",required:!0,placehold:"Enter a Username"}}),t._v(" "),a("text-field",{attrs:{label:t.trans("password"),value:t.password,onChange:t.onChange,name:"password",type:"password",classname:"col-sm-6",required:!0,placehold:"Enter a Password"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("port"),value:t.port,onChange:t.onChange,name:"port",type:"number",classname:"col-sm-6",required:!0,placehold:"Enter a Port Number"}})],1)]),t._v(" "),a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.onSubmit()}}},[a("i",{class:t.iconClass}),t._v("  "+t._s(t.trans("save")))])])]),t._v(" "),a("div",{staticClass:"card card-light"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.trans("archive-setting")))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("number-of-tickets"),value:t.numberoftickets,onChange:t.onChange,name:"numberoftickets",type:"number",classname:"col-sm-6",required:!0,placehold:"No.of tickets to move"}}),t._v(" "),a("text-field",{attrs:{label:t.trans("number-of-days"),value:t.numberofdays,onChange:t.onChange,name:"numberofdays",type:"number",classname:"col-sm-6",required:!0,placehold:"No. of days Tickets closed before today"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("number-of-ticket-delete"),value:t.numberofticketdelete,onChange:t.onChange,name:"numberofticketdelete",type:"number",classname:"col-sm-6",required:!0,placehold:"No. of tickets to delete in one go (Auto delete)"}})],1)]),t._v(" "),a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.validateSetting()}}},[a("i",{class:t.iconClass}),t._v("  "+t._s(t.trans("save")))])])])],1)},staticRenderFns:[]}},4385:function(t,e,a){var o=a(0)(a(4388),a(4389),!1,function(t){a(4386)},null,null);t.exports=o.exports},4386:function(t,e,a){var o=a(4387);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(2)("05ba3752",o,!0,{})},4387:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".tooltip .tooltip-inner{background:#000;color:#fff;padding:5px 10px 4px}.tooltip .tooltip-arrow{width:0;height:0;border-style:solid;position:absolute;margin:5px;border-color:#000}.tooltip[x-placement^=top]{margin-bottom:5px}.tooltip[x-placement^=top] .tooltip-arrow{border-width:5px 5px 0;border-left-color:transparent!important;border-right-color:transparent!important;border-bottom-color:transparent!important;bottom:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.tooltip[x-placement^=bottom]{margin-top:5px}.tooltip[x-placement^=bottom] .tooltip-arrow{border-width:0 5px 5px;border-left-color:transparent!important;border-right-color:transparent!important;border-top-color:transparent!important;top:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.tooltip[x-placement^=right]{margin-left:5px}.tooltip[x-placement^=right] .tooltip-arrow{border-width:5px 5px 5px 0;border-left-color:transparent!important;border-top-color:transparent!important;border-bottom-color:transparent!important;left:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.tooltip[x-placement^=left]{margin-right:5px}.tooltip[x-placement^=left] .tooltip-arrow{border-width:5px 0 5px 5px;border-top-color:transparent!important;border-right-color:transparent!important;border-bottom-color:transparent!important;right:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.tooltip[aria-hidden=true]{visibility:hidden;opacity:0;-webkit-transition:opacity .15s,visibility .15s;transition:opacity .15s,visibility .15s}.tooltip[aria-hidden=false]{visibility:visible;opacity:1;-webkit-transition:opacity .15s;transition:opacity .15s}.caret{border-top:4px solid!important}",""])},4388:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(247),i=a.n(o);e.default={name:"inbox-layout",description:"Inbox layout Component",props:{from:{type:String,default:""}},data:function(){return{ticketPage:"",counter:0}},created:function(){window.eventHub.$on("refreshTicketPage",this.reloadPage)},beforeMount:function(){if(this.from)this.ticketPage="filter";else{var t=JSON.parse('{"'+decodeURIComponent(location.search.substring(1)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/%2F/g,"/")+'"}');this.ticketPage=t["show[]"]}},methods:{reloadPage:function(){this.counter+=1}},components:{TicketsIndex:i.a}}},4389:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-12"},[e("tickets-index",{key:this.counter,attrs:{selectedColor:this.headerColor,ticketPage:this.ticketPage,archive:!0}})],1)},staticRenderFns:[]}}},[4380]);