webpackJsonp([8],{2932:function(t,a,e){t.exports=e(2933)},2933:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(38),n=(e.n(i),e(11)),s=e(27),o=e(31),l=e.n(o),r=e(2934),d=e.n(r),c=e(2939),p=e.n(c),u=e(24),h={path:"/ldap",component:l.a,name:"LDAP",redirect:"/ldap/settings",children:[{path:"settings",component:d.a,name:"LDAP Settings",meta:{title:"ldap",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"ldap_settings"}}},{path:"settings/create",component:p.a,name:"LDAP Create",meta:{title:"ldap",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"ldap_settings",to:"/ldap"},active:"create"}}},{path:"settings/:id/edit",component:p.a,name:"LDAP Edit",meta:{title:"ldap",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"ldap_settings",to:"/ldap"},active:"edit"}}}]};s.a.addRoutes([h]);new Vue({el:"#ldap-settings",store:n.a});u.injectComponentIntoView("ldap-login",e(2954),"login-box-mounted","login-box")},2934:function(t,a,e){var i=e(0)(e(2937),e(2938),!1,function(t){e(2935)},"data-v-30e97220",null);t.exports=i.exports},2935:function(t,a,e){var i=e(2936);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(2)("76241896",i,!0,{})},2936:function(t,a,e){(t.exports=e(1)(!1)).push([t.i,".list-group-item[data-v-30e97220]{border:none;border-top:2px solid #fafafa}.list-group-item[data-v-30e97220]:first-child{border-top:none}.list-group-item[data-v-30e97220]:nth-child(odd){background:#fafafa}.list-group-item[data-v-30e97220]:nth-child(2n){background:#fff}.data-block[data-v-30e97220]{padding-top:1.5rem}.action-block[data-v-30e97220]{padding-top:2.5rem}.list-group-item[data-v-30e97220]:hover{background:#f5f5f5}.list-group-item-heading[data-v-30e97220]{padding-top:.5rem}.description-block>.description-text[data-v-30e97220]{text-transform:inherit}.hide-checkbox[data-v-30e97220]{height:25px}.w-100[data-v-30e97220]{width:100%!important}",""])},2937:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3),n=e.n(i),s=e(6),o=e(17),l=e.n(o);a.default={name:"ldap-list-page",data:function(){return{dataToDisplay:["domain","port","encryption","username"],adList:[],hideDefaultLogin:!1,isLoading:!1}},beforeMount:function(){this.getLdapList()},methods:{getLdapList:function(){var t=this;this.isLoading=!0,n.a.get("api/ldap/settings").then(function(a){t.adList=a.data.data.ldap_list,t.hideDefaultLogin=a.data.data.hide_default_login}).catch(function(t){Object(s.a)(t,"ldap-list-page")}).finally(function(){t.isLoading=!1})},deleteItem:function(t){var a=this;confirm("Are you sure you want to delete?")&&(this.isLoading=!0,n.a.delete("api/ldap/settings/"+t).then(function(t){Object(s.b)(t,"ldap-list-page"),a.getLdapList()}).catch(function(t){Object(s.a)(t,"ldap-list-page")}).finally(function(){a.isLoading=!1}))},updateHideDefaultLogin:function(){var t=this;this.isLoading=!0;var a={hide_default_login:this.hideDefaultLogin};n.a.post("api/ldap/hide-default-login",a).then(function(t){Object(s.b)(t,"ldap-list-page")}).catch(function(t){Object(s.a)(t,"ldap-list-page")}).finally(function(){t.isLoading=!1})}},components:{"faveo-box":l.a,alert:e(5),loader:e(9)}}},2938:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12"},[e("faveo-box",{attrs:{title:t.trans("ldap_list")}},[e("alert",{attrs:{componentName:"ldap-list-page"}}),t._v(" "),t.isLoading?e("loader",{attrs:{duration:4e3}}):t._e(),t._v(" "),e("div",{staticClass:"card-tools d-flex mt-1",attrs:{slot:"headerMenu"},slot:"headerMenu"},[e("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("configure_new_ldap"),expression:"trans('configure_new_ldap')"}],staticClass:"btn btn-tool",attrs:{to:"/ldap/settings/create"}},[e("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})]),t._v(" "),e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("hide_default_login"),expression:"trans('hide_default_login')"}],staticClass:"btn-tool"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.hideDefaultLogin,expression:"hideDefaultLogin"}],staticClass:"hide-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hideDefaultLogin)?t._i(t.hideDefaultLogin,null)>-1:t.hideDefaultLogin},on:{change:[function(a){var e=t.hideDefaultLogin,i=a.target,n=!!i.checked;if(Array.isArray(e)){var s=t._i(e,null);i.checked?s<0&&(t.hideDefaultLogin=e.concat([null])):s>-1&&(t.hideDefaultLogin=e.slice(0,s).concat(e.slice(s+1)))}else t.hideDefaultLogin=n},function(a){return t.updateHideDefaultLogin()}]}})])],1),t._v(" "),e("div",{staticClass:"list-group"},t._l(t.adList,function(a){return e("div",{key:a.id,staticClass:"list-group-item"},[e("div",{staticClass:"row"},[e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans(a.schema),expression:"trans(list.schema)"}],staticClass:"col-md-2"},[e("div",{staticClass:"ldap-schema-img"},[e("img",{staticClass:"w-100",attrs:{src:a.image_url,alt:a.schema}})])]),t._v(" "),t._l(t.dataToDisplay,function(i){return e("div",{key:i,staticClass:"col-md-2 description-block data-block"},[e("h5",{staticClass:"description-header"},[t._v(t._s(t.trans(i)))]),t._v(" "),e("span",{staticClass:"description-text"},[t._v(t._s(a[i]?a[i]:"---"))])])}),t._v(" "),e("div",{staticClass:"col-md-2 description-block action-block float-right"},[e("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:"/ldap/settings/"+a.id+"/edit"}},[e("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("edit"),expression:"trans('edit')"}],staticClass:"fas fa-edit",attrs:{"aria-hidden":"true"}})]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.deleteItem(a.id)}}},[e("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("delete"),expression:"trans('delete')"}],staticClass:"fas fa-trash",attrs:{"aria-hidden":"true"}})])],1)],2)])}),0)],1)],1)},staticRenderFns:[]}},2939:function(t,a,e){var i=e(0)(e(2942),e(2953),!1,function(t){e(2940)},null,null);t.exports=i.exports},2940:function(t,a,e){var i=e(2941);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(2)("1ace9128",i,!0,{})},2941:function(t,a,e){(t.exports=e(1)(!1)).push([t.i,"",""])},2942:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3),n=e.n(i),s=e(4),o=e(6),l=e(11),r=e(16);var d=e(17),c=e.n(d);a.default={name:"ldap-settings",description:"ldap setting page",beforeMount:function(){var t=Object(s.p)(window.location.pathname);this.ldapId=t||"",""!==this.ldapId?this.getldapSetting():(this.hasDataPopulated=!0,this.loading=!1)},data:function(){return{domain:"",is_valid:0,password:"",port:null,encryption:null,schema:"active_directory",ldap_label:"",forgot_password_link:"",prefix:"",suffix:"",username:"",user_type:"",search_bases:[],show_organization:!0,show_department:!0,show_role:!0,loading:!0,loadingSpeed:4e3,hasDataPopulated:!1,message:"",ldapId:"",tableHeadings:{faveo:{header:"faveo_attribute",description:"faveo_attribute_description"},thirdParty:{header:"active_directory_attribute",description:"active_directory_attribute_description"},overwrite:{header:"overwrite",description:"ldap_overwrite_description"}}}},watch:{},methods:{getldapSetting:function(){var t=this;this.loading=!0,n.a.get("api/ldap/settings/"+this.ldapId).then(function(a){t.loading=!1,t.hasDataPopulated=!0,t.updateStatesWithData(a.data.data),t.message=a.data.message,a.data.data.search_bases.length>0||setTimeout(function(){a.data.data.search_bases.push({id:"",search_base:"",filter:"",user_type:"user",departments:[],organizations:[]})},5)}).catch(function(a){t.loading=!1})},updateStatesWithData:function(t){var a=this,e=this.$data;Object.keys(t).map(function(i){e.hasOwnProperty(i)&&(a[i]=t[i])})},addUser:function(t){this.search_bases.push(t)},onChange:function(t,a){this[a]=t},confirmLdapPing:function(t){var a=this;this.loading=!0,n.a.get("api/ldap/search-base/ping",{params:{search_base:t}}).then(function(t){a.loading=!1,Object(o.b)(t,"searchbase")}).catch(function(t){a.loading=!1,Object(o.a)(t,"searchbase")})},deleteUser:function(t){this.search_bases.splice(t,1)},saveConfiguration:function(){var t=this;this.isValid()&&(this.loading=!0,n.a.post("api/ldap/settings/",this.getSaveApiParams()).then(function(a){t.loading=!1,t.showSearchQueryBlock=!0,Object(o.b)(a,"ldap"),t.ldapId=a.data.data.ldap_id,t.getldapSetting()}).catch(function(a){t.loading=!1,Object(o.a)(a,"ldap")}))},getSaveApiParams:function(){return{id:""!==this.ldapId?this.ldapId:void 0,domain:this.domain,username:this.username,password:this.password,port:this.port,encryption:this.encryption,schema:this.schema,ldap_label:this.ldap_label,forgot_password_link:this.forgot_password_link,prefix:this.prefix,suffix:this.suffix}},isValid:function(){var t=function(t){var a=t.domain,e=t.username,i=t.password,n=t.ldap_label,o=(t.forgot_password_link,{domain:[a,"isRequired"],username:[e,"isRequired"],password:[i,"isRequired"],ldap_label:[n,"max(24)"]}),d=new r.Validator(s.u).validate(o),c=d.errors,p=d.isValid;return l.a.dispatch("setValidationError",c),{errors:c,isValid:p}}(this.$data),a=(t.errors,t.isValid);return!!a}},computed:{schemas:function(){return[{id:"active_directory",name:"ActiveDirectory"},{id:"open_ldap",name:"OpenLDAP"},{id:"free_ipa",name:"FreeIPA"}]},encryptions:function(){return[{id:null,name:"None"},{id:"ssl",name:"SSL"},{id:"tls",name:"TLS"}]}},components:{"static-select":e(25),"text-field":e(12),alert:e(5),"custom-loader":e(9),"search-basis":e(2943),"user-import-mapper":e(267),"ldap-table":e(2948),checkbox:e(39),"faveo-box":c.a}}},2943:function(t,a,e){var i=e(0)(e(2946),e(2947),!1,function(t){e(2944)},"data-v-25e638d1",null);t.exports=i.exports},2944:function(t,a,e){var i=e(2945);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(2)("c892daf2",i,!0,{})},2945:function(t,a,e){(t.exports=e(1)(!1)).push([t.i,".ldap-import-query[data-v-25e638d1]{margin-bottom:10px}.delete-search-base-modal-title[data-v-25e638d1]{padding-top:1rem;padding-bottom:2rem}",""])},2946:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3),n=e.n(i),s=e(4),o=e(6),l=e(11),r=e(16);var d=e(17),c=e.n(d);a.default={props:{ldapId:{type:String,default:""},addUser:{type:Function,default:function(){return null}},searchBaseArray:{type:Array,default:[]},getLdap:{type:Function,default:function(){return null}},showOrganization:{type:Boolean,default:!0},showDepartment:{type:Boolean,default:!0},showRole:{type:Boolean,default:!0},loadingValue:{type:Boolean,default:!0}},data:function(){return{name:"searchbase",iconClass:"fa fa-trash",is_valid:"",search_base:"",loading:this.loadingValue,loadingSpeed:4e3,usersArray:[{id:"user",name:"user"},{id:"admin",name:"admin"},{id:"agent",name:"agent"}],deletePopup:!1,containerStyle:{width:"500px"},searchValueId:"",indexValue:"",organization_ids:[]}},watch:{searchBaseArray:function(t){return t}},methods:{addQuery:function(){this.addUser({id:"",search_base:"",filter:"",user_type:"user",departments:[],organizations:[]})},onSearchBase:function(t,a){var e=a.replace("searchbase","");this.searchBaseArray[e].search_base=t},onFilter:function(t,a){var e=a.replace("filter-","");this.searchBaseArray[e].filter=t},onOrganizationChange:function(t,a){this.searchBaseArray[a].organizations=t},onDepartmentChange:function(t,a){this.searchBaseArray[a].departments=t},onHandle:function(t,a){this.searchBaseArray[a].user_type=t},confirmLdapPing:function(t,a){var e=this;this.loading=!0,n.a.get("api/ldap/search-base/ping/"+this.ldapId,{params:{search_base:t,filter:a}}).then(function(t){e.loading=!1,Object(o.b)(t,"searchbase")}).catch(function(t){e.loading=!1,Object(o.a)(t,"searchbase")})},deleteUser:function(t,a){this.deletePopup=!0,t?(this.deletePopup=!0,this.searchValueId=t):this.indexValue=a},onSubmitDelete:function(){var t=this;this.searchValueId?n.a.delete("api/ldap/search-base/"+this.searchValueId).then(function(a){t.deletePopup=!1,Object(o.b)(a,"searchbase"),t.getLdap(),t.searchValueId=""}).catch(function(t){Object(o.a)(t,"searchbase")}):(this.deletePopup=!1,l.a.dispatch("setAlert",{type:"success",message:"Successfully Deleted",component_name:"searchbase"}),this.searchBaseArray.splice(this.indexValue,1))},onClose:function(){this.deletePopup=!1,this.searchValueId=""},isValidSearchBase:function(){var t=function(t){for(var a={},e=0;e<t.length;e++){var i=[];i[0]=t[e].search_base,i[1]="isRequired",a["searchbase"+[e]]=i}var n=new r.Validator(s.u).validate(a),o=n.errors,d=n.isValid;return l.a.dispatch("setValidationError",o),{errors:o,isValid:d}}(this.searchBaseArray);t.errors;return!!t.isValid},saveandImport:function(t,a){var e=this;this.loading=!0;var i=_.each(t,function(t){"user"===t.user_type&&(t.department_ids=[]),"user"!==t.user_type&&(t.organization_ids=[]),t.departments&&(t.department_ids=Object(s.h)(t.departments)),t.organizations&&(t.organization_ids=Object(s.h)(t.organizations))});if(this.isValidSearchBase()){var l="/api/ldap/search-bases/"+this.ldapId;n.a.post(l,{search_bases:i,import:a}).then(function(t){e.loading=!1,Object(o.b)(t,"searchbase"),e.getLdap()}).catch(function(t){e.loading=!1,Object(o.a)(t,"searchbase")})}else this.loading=!1}},components:{"static-select":e(25),"text-field":e(12),"dynamic-select":e(13),alert:e(5),"custom-loader":e(9),modal:e(10),"faveo-box":c.a}}},2947:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12"},[e("alert",{attrs:{componentName:"searchbase"}}),t._v(" "),!0===t.loading?e("div",{staticClass:"row"},[e("custom-loader",{attrs:{duration:t.loadingSpeed}})],1):t._e(),t._v(" "),t.deletePopup?e("modal",{attrs:{classname:"modal-sm",containerStyle:t.containerStyle,showModal:t.deletePopup,onClose:t.onClose}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang("delete_search_base")))])]),t._v(" "),e("div",{attrs:{slot:"fields"},slot:"fields"},[e("span",[t._v(t._s(t.lang("delete_confirmation_message")))])]),t._v(" "),e("div",{attrs:{slot:"controls"},slot:"controls"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.onSubmitDelete()}}},[e("i",{class:t.iconClass,attrs:{"aria-hidden":"true"}}),t._v("  "+t._s(t.lang("delete")))])])]):t._e(),t._v(" "),e("faveo-box",{attrs:{title:t.lang("import_settings")}},[e("div",t._l(t.searchBaseArray,function(a,i){return e("div",{key:i,staticClass:"clearfix ldap-import-query"},[e("div",{staticClass:"row"},[e("text-field",{attrs:{id:"searchbase-"+i,label:t.lang("search_base"),value:a.search_base,type:"text",name:"searchbase"+i,onChange:t.onSearchBase,classname:"col-sm-4",required:!0}}),t._v(" "),e("text-field",{attrs:{id:"filter-"+i,label:t.lang("filter"),value:a.filter,type:"text",name:"filter-"+i,onChange:t.onFilter,classname:"col-sm-6",hint:t.lang("ldap_filter_hint")}}),t._v(" "),e("div",{staticClass:"form-group col-sm-2"},[e("label",{attrs:{for:"actions"}},[t._v("Actions")]),t._v(" "),e("div",[a.search_base?e("span",{staticClass:"btn btn-primary",attrs:{id:"ping-"+i,title:"Ping User"},on:{click:function(e){return t.confirmLdapPing(a.search_base,a.filter)}}},[e("i",{staticClass:"fa fa-paper-plane"})]):t._e(),t._v(" "),e("span",{staticClass:"btn btn-danger",attrs:{id:"delete-"+i,title:"Delete User"},on:{click:function(e){return t.deleteUser(a.id,i)}}},[e("i",{staticClass:"fa fa-trash"})])])])],1),t._v(" "),e("div",{staticClass:"row"},[t.showRole?e("static-select",{attrs:{id:"user-type-"+i,label:t.lang("user_type"),elements:t.usersArray,name:i,hideEmptySelect:!0,value:a.user_type,classname:"col-sm-4",onChange:t.onHandle,required:!0}}):t._e(),t._v(" "),"user"!==a.user_type&&t.showDepartment?[e("dynamic-select",{key:"search-base-"+i+"-department",attrs:{id:"search-base-"+i+"-department",apiEndpoint:"/api/dependency/departments",label:t.lang("department"),multiple:!0,name:i,prePopulate:!1,classname:"col-sm-6",value:a.departments,onChange:t.onDepartmentChange}})]:t._e(),t._v(" "),"user"===a.user_type&&t.showOrganization?[e("dynamic-select",{key:"search-base-"+i+"-organization",attrs:{id:"search-base-"+i+"-organization",apiEndpoint:"/api/dependency/organizations",label:t.lang("organizations"),multiple:!0,name:i,prePopulate:!1,classname:"col-sm-6",value:a.organizations,onChange:t.onOrganizationChange}})]:t._e()],2)])}),0),t._v(" "),e("div",{staticClass:"card-footer",attrs:{slot:"actions"},slot:"actions"},[e("button",{staticClass:"btn btn-primary update-btn",attrs:{id:"query",disabled:t.loading},on:{click:function(a){return t.saveandImport(t.searchBaseArray,!1)}}},[e("span",{staticClass:"fas fa-save"}),t._v(" "+t._s(t.lang("save"))+" ")]),t._v(" "),e("button",{staticClass:"btn btn-primary update-btn",attrs:{id:"importquery",disabled:t.loading},on:{click:function(a){return t.saveandImport(t.searchBaseArray,!0)}}},[e("span",{staticClass:"fas fa-save"}),t._v(" "+t._s(t.lang("save_and_import")))]),t._v(" "),e("button",{staticClass:"btn btn-primary update-btn",attrs:{id:"importquery",disabled:t.loading},on:{click:t.addQuery}},[e("span",{staticClass:"fas fa-plus"}),t._v(" "+t._s(t.lang("add_more")))])])])],1)},staticRenderFns:[]}},2948:function(t,a,e){var i=e(0)(e(2951),e(2952),!1,function(t){e(2949)},"data-v-29112a40",null);t.exports=i.exports},2949:function(t,a,e){var i=e(2950);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(2)("43ca0c7b",i,!0,{})},2950:function(t,a,e){(t.exports=e(1)(!1)).push([t.i,".right[data-v-29112a40]{float:right}#toggle-list-button[data-v-29112a40]{cursor:pointer}",""])},2951:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e(6),e(4);var i=e(3),n=(e.n(i),e(7)),s=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};a.default={name:"ldap-table",description:"Ldap table component",props:{ldapId:{type:String,default:""}},data:function(){return{showModal:!1,data:{id:0,name:""},hasDataPopulated:!1,minimized:!0,base:window.axios.defaults.baseURL,columns:["name","created_at","updated_at","is_default","action"],options:{},apiUrl:"/api/dependency/ldap-directory-attributes/"+this.ldapId}},beforeMount:function(){var t=this,a=this;this.options={headings:{name:"Name",created_at:"Created At",updated_at:"Updated At",is_default:"Is default",action:"Action"},texts:{filter:"",limit:""},templates:{action:"data-table-actions",is_default:"data-table-is-default",created_at:function(a,e){return t.formattedTime(e.created_at)},updated_at:function(a,e){return t.formattedTime(e.updated_at)}},sortable:["name","created_at","updated_at","is_default"],filterable:["name","created_at","updated_at"],pagination:{chunk:5,nav:"scroll"},requestAdapter:function(t){return{sort_field:t.orderBy?t.orderBy:"is_default",sort_order:t.ascending?"desc":"asc",search_query:t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(t){var e=t.data;return{data:e.data.data.map(function(t){return t.edit_modal="api/ldap/ldap-directory-attribute/"+a.ldapId,t.delete_url=window.axios.defaults.baseURL+"/api/ldap/ldap-directory-attribute/"+t.id,t.active="1"==t.active?"active":"inactive",t}),count:e.data.total}}}},methods:{toggleList:function(){this.minimized=!this.minimized,this.minimized?this.hasDataPopulated=!1:this.hasDataPopulated=!0},onClose:function(){this.showModal=!1,this.$store.dispatch("unsetValidationError")}},computed:s({},Object(n.b)(["formattedTime"])),components:{alert:e(5),"custom-loader":e(9),"data-table":e(14),"data-table-modal":e(245),"tool-tip":e(22)}}},2952:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12"},[e("alert",{attrs:{componentName:"dataTableModal"}}),t._v(" "),e("div",{staticClass:"card card-light"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title"},[t._v(t._s(t.lang("directory_attributes")))]),t._v(" "),e("tool-tip",{attrs:{message:t.lang("directory_attributes_description"),size:"large"}}),t._v(" "),e("a",{attrs:{id:"toggle-list-button"},on:{click:t.toggleList}},[t.minimized?e("span",{staticClass:"pull-right glyphicon glyphicon-menu-down",attrs:{title:t.lang("expand")}}):e("span",{staticClass:"pull-right glyphicon glyphicon-menu-up",attrs:{title:t.lang("collapse")}})])],1),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{class:["toggle",{"toggle-expand":t.hasDataPopulated}]},[e("div",{staticClass:"box-header"},[e("div",{staticClass:"row"},[t.minimized?t._e():e("div",{staticClass:"col-md-12"},[e("a",{staticClass:"btn btn-primary right",attrs:{href:"javascript:;"},on:{click:function(a){t.showModal=!0}}},[e("span",{staticClass:"glyphicon glyphicon-plus"}),t._v(" "+t._s(t.lang("add_more")))])])])]),t._v(" "),t.hasDataPopulated?e("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options}}):t._e()],1)]),t._v(" "),t.showModal?e("data-table-modal",{attrs:{title:"create",onClose:t.onClose,showModal:t.showModal,apiUrl:"api/ldap/ldap-directory-attribute/"+this.ldapId,data:t.data}}):t._e()],1)],1)},staticRenderFns:[]}},2953:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12"},[!t.hasDataPopulated||t.loading?e("custom-loader",{attrs:{duration:t.loadingSpeed}}):t._e(),t._v(" "),e("alert",{attrs:{componentName:"ldap"}}),t._v(" "),t.hasDataPopulated?e("div",[e("faveo-box",{attrs:{title:t.lang("ldap_configuration_settings")}},[t.message?e("h6",{staticClass:"alert alert-warning  text-uppercase",attrs:{id:"ldap-configure-warning"}},[e("span",[e("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),e("span",[t._v(t._s(t.message))])]):t._e(),t._v(" "),e("div",{staticStyle:{"margin-top":"2rem"}},[e("faveo-box",{attrs:{title:t.lang("connection_settings")}},[e("div",{staticClass:"row"},[e("text-field",{attrs:{label:t.lang("ldap_domain"),value:t.domain,type:"text",name:"domain",onChange:t.onChange,classname:"col-md-4",required:!0,id:"domain"}}),t._v(" "),e("text-field",{attrs:{label:"Username",value:t.username,type:"text",name:"username",onChange:t.onChange,classname:"col-sm-4",required:!0,id:"username"}}),t._v(" "),e("text-field",{attrs:{label:"Password",value:t.password,type:"password",name:"password",onChange:t.onChange,classname:"col-sm-4",required:!0,id:"password"}}),t._v(" "),e("static-select",{attrs:{label:t.lang("ldap_schema"),elements:t.schemas,name:"schema",value:t.schema,classname:"col-sm-4",onChange:t.onChange,hint:t.lang("ldap_schema_description"),id:"schema"}}),t._v(" "),e("text-field",{attrs:{label:t.lang("port"),value:t.port,type:"number",name:"port",onChange:t.onChange,classname:"col-sm-4",hint:t.lang("ldap_port_hint"),id:"port"}}),t._v(" "),e("static-select",{attrs:{label:t.lang("encryption"),elements:t.encryptions,name:"encryption",value:t.encryption,classname:"col-sm-4",onChange:t.onChange,hint:t.lang("ldap_encryption_hint"),id:"encryption"}})],1)])],1),t._v(" "),e("div",{staticStyle:{"margin-top":"2rem"}},[e("faveo-box",{attrs:{title:t.lang("login_settings")}},[e("div",{staticClass:"row"},[e("text-field",{attrs:{label:t.lang("ldap_label"),value:t.ldap_label,type:"text",name:"ldap_label",onChange:t.onChange,classname:"col-sm-4",hint:t.lang("ldap_label_hint"),id:"label"}}),t._v(" "),e("text-field",{attrs:{label:t.lang("forgot_password_link"),value:t.forgot_password_link,type:"text",name:"forgot_password_link",onChange:t.onChange,classname:"col-sm-4",hint:t.lang("forgot_password_link_description"),id:"forgot-password-link"}}),t._v(" "),e("text-field",{attrs:{label:t.lang("username_prefix"),value:t.prefix,type:"text",name:"prefix",onChange:t.onChange,classname:"col-sm-4",hint:t.lang("username_prefix_description"),id:"prefix"}}),t._v(" "),e("text-field",{attrs:{label:t.lang("username_suffix"),value:t.suffix,type:"text",name:"suffix",onChange:t.onChange,classname:"col-sm-4",hint:t.lang("username_suffix_description"),id:"suffix"}})],1)])],1),t._v(" "),e("div",{staticClass:"card-footer",attrs:{slot:"actions"},slot:"actions"},[e("button",{staticClass:"btn btn-primary",attrs:{id:"ldap-settings-submit",disabled:t.loading},on:{click:t.saveConfiguration}},[e("span",{staticClass:"fas fa-save"}),t._v(" \n          "+t._s(t.lang("save_configuration"))+"\n        ")])])]),t._v(" "),0!=t.is_valid?e("search-basis",{attrs:{"ldap-id":t.ldapId,addUser:t.addUser,searchBaseArray:t.search_bases,getLdap:t.getldapSetting,showOrganization:t.show_organization,showDepartment:t.show_department,showRole:t.show_role,loadingValue:t.loading}}):t._e(),t._v(" "),0!=t.is_valid?e("user-import-mapper",{attrs:{"api-endpoint":"/api/ldap/advanced-settings/"+t.ldapId,updateParent:t.getldapSetting,"table-headings":t.tableHeadings}}):t._e(),t._v(" "),0!=t.is_valid?e("ldap-table",{attrs:{"ldap-id":t.ldapId}}):t._e()],1):t._e()],1)},staticRenderFns:[]}},2954:function(t,a,e){var i=e(0)(e(2957),e(2958),!1,function(t){e(2955)},null,null);t.exports=i.exports},2955:function(t,a,e){var i=e(2956);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(2)("5a875682",i,!0,{})},2956:function(t,a,e){(t.exports=e(1)(!1)).push([t.i,".ldap-login-button{margin-top:5px;margin-bottom:3px}.ldap-login-block{text-align:left;margin-bottom:10px}",""])},2957:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e(4);var i=e(7),n=e(3),s=(e.n(n),Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t});a.default={props:["data"],data:function(){return{disabled:!1,ldapSettings:null,login_via_ldap:!1}},beforeMount:function(){this.ldapSettings=JSON.parse(this.data).ldap_meta_settings,this.ldapSettings.hide_default_login&&this.hideDefaultLogin()},mounted:function(){var t=this;window.eventHub.$on("login-success",function(){t.disabled=!0}),window.eventHub.$on("login-failure",function(){t.disabled=!1,t.login_via_ldap=!1}),window.eventHub.$on("logging-in-with-enter-key",function(){"none"==document.getElementById("default-login-button").style.display&&document.getElementById("ldap-login-button-0").click()})},methods:{hideDefaultLogin:function(){document.getElementById("default-login-button").style.display="none",document.getElementById("default-forgot-password").style.display="none"},ldapLoginSubmit:function(t){var a=this;this.login_via_ldap=!0,window.eventHub.$on("login-data-submitting",function(e){e.ldap=a.login_via_ldap,e.ldap_id=t}),document.getElementById("default-login-button").click()}},computed:s({},Object(i.b)({buttonStyle:"getButtonStyle",linkStyle:"getLinkStyle"}))}},2958:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"ldap-login"}},t._l(t.ldapSettings.directory_settings,function(a,i){return e("span",{staticClass:"ldap-login-block"},[e("button",{staticClass:"ldap-login-button btn btn-custom btn-block btn-flat",style:t.buttonStyle,attrs:{id:"ldap-login-button-"+i,disabled:t.disabled},on:{click:function(){return t.ldapLoginSubmit(a.id)}}},[t._v("\n        "+t._s(""!==a.ldap_label?a.ldap_label:t.lang("login_via_ldap"))+"\n    ")]),t._v(" "),""!==a.forgot_password_link?e("a",{style:t.linkStyle,attrs:{id:"ldap-forgot-password-"+i,href:a.forgot_password_link,target:"_blank"}},[t._v("\n          "+t._s(t.lang("forgot_ldap_password"))+"\n    ")]):t._e()])}),0)},staticRenderFns:[]}}},[2932]);