webpackJsonp([18],{4437:function(t,a,e){t.exports=e(4438)},4438:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(11),s=e(27),i=e(31),d=e.n(i),n=e(4439),r=e.n(n),c=(e(24),{path:"/optimize",component:d.a,name:"Dashboard Optimize",redirect:"/optimize/dashboard",children:[{path:"dashboard",component:r.a,name:"DashboardOptimize",meta:{title:"optimize",crumb:{link:{name:"admin_panel",to:"/"},active:"optimize"}}}]});s.a.addRoutes([c]);new Vue({el:"#app-optimize",store:o.a})},4439:function(t,a,e){var o=e(0)(e(4444),e(4445),!1,function(t){e(4440),e(4442)},"data-v-5df0069a",null);t.exports=o.exports},4440:function(t,a,e){var o=e(4441);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(2)("d03d105c",o,!0,{})},4441:function(t,a,e){(t.exports=e(1)(!1)).push([t.i,".p-50[data-v-5df0069a]{padding:50px}.border_opt[data-v-5df0069a]{border-radius:.25rem!important}.switch-pos[data-v-5df0069a]{position:relative;top:6px}.row_disable[data-v-5df0069a]{opacity:.5;pointer-events:none}",""])},4442:function(t,a,e){var o=e(4443);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e(2)("6c345848",o,!0,{})},4443:function(t,a,e){(t.exports=e(1)(!1)).push([t.i,".vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div:after{background-color:#f5f5f5!important}.vue-switcher-theme--bootstrap.vue-switcher-color--success div:after{background-color:#fff!important}.vue-switcher--bold div{top:0!important}.vue-switcher-theme--bootstrap.vue-switcher-color--success div{background-color:#28a745!important}.vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div{background-color:#d9534f!important;opacity:.5}",""])},4444:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(7),s=e(6),i=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};a.default={name:"dashboard-optimize",data:function(){return{moduleData:[],subModuleData:[],moduleLoad:!1,subModuleLoad:!1,updateModuleLoad:!1}},beforeMount:function(){this.getModuleData()},computed:i({},Object(o.b)(["formattedTime"])),methods:{getModuleData:function(){var t=this;this.moduleLoad=!0,axios.get("/api/modules").then(function(a){t.moduleData=a.data.data.helpdesk,t.moduleLoad=!1,t.getSubModulesData()}).catch(function(a){t.moduleLoad=!1})},getSubModulesData:function(){var t=this;this.subModuleLoad=!0,axios.get("/api/sub-module/1?panel=admin").then(function(a){t.subModuleData=a.data.message.map(function(t){return i({},t,{display:!!t.display&&t.display,cache:t.cache?t.cache:0})}),t.subModuleLoad=!1}).catch(function(a){t.subModuleLoad=!1})},onInput:function(t){if(t.cache.length<=3)return!0;t.cache=t.cache.substring(0,t.cache.length-1)},checkValue:function(t){var a=(t=t||window.event).which?t.which:t.keyCode;if(!(a>31&&(a<48||a>57)))return!0;t.preventDefault()},onPaste:function(t){(t=t||window.event).preventDefault()},onChange:function(t,a){this[a]=t},updateDashboard:function(t,a){var e=this;this.updateModuleLoad=!0;var o={};o.module_id=t.id,o.panel="admin",o.is_enabled=t.admin_enable?1:0,o.sub_module=a.map(function(t){return{id:t.id,display:t.display?1:0,cache:t.display?parseInt(t.cache):0}}),axios.post("/update/sub-module",o).then(function(t){Object(s.b)(t,"dashboard-optimize"),e.updateModuleLoad=!1,e.getModuleData()}).catch(function(t){Object(s.a)(t,"dashboard-optimize"),e.updateModuleLoad=!1})}},components:{alert:e(5),loader:e(8),"custom-loader":e(9),"status-switch":e(35),switches:e(264)}}},4445:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12"},[e("alert",{attrs:{componentName:"dashboard-optimize"}}),t._v(" "),t.updateModuleLoad?e("div",{staticClass:"row"},[e("custom-loader",{attrs:{duration:4e3}})],1):t._e(),t._v(" "),t.moduleLoad?e("div",{staticClass:"p-50"},[e("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):[t._l(t.moduleData,function(a){return[e("div",{staticClass:"card card-light"},[e("div",{staticClass:"card-header"},[e("h3",{staticClass:"card-title mt-2"},[t._v(t._s(a.key))]),t._v(" "),e("div",{staticClass:"card-tools switch-pos"},[e("switches",{attrs:{theme:"bootstrap",color:a.admin_enable?"success":"danger","type-bold":!0},model:{value:a.admin_enable,callback:function(e){t.$set(a,"admin_enable",e)},expression:"module.admin_enable"}})],1)]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"alert alert-info"},[t._v("\n                  "+t._s(a.description)+"\n                ")]),t._v(" "),e("div",{staticClass:"row p-2"},[t.subModuleLoad?e("div",{staticClass:"col-sm-12 p-50"},[e("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):t._e(),t._v(" "),t.subModuleLoad||t.moduleLoad?t._e():[e("table",{staticClass:"table table-striped border"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.trans("title")))]),t._v(" "),e("th",[t._v(t._s(t.trans("cache")))]),t._v(" "),e("th",[t._v(t._s(t.trans("updated_at")))]),t._v(" "),e("th",[t._v(t._s(t.trans("action")))])])]),t._v(" "),e("tbody",t._l(t.subModuleData,function(o,s){return e("tr",{key:s,class:a.admin_enable?"":"row_disable"},[e("td",[t._v(t._s(t.trans(o.label)))]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:o.cache,expression:"sub.cache"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"999",disabled:!o.display},domProps:{value:o.cache},on:{input:[function(a){a.target.composing||t.$set(o,"cache",a.target.value)},function(a){return t.onInput(o)}],keypress:t.checkValue,paste:t.onPaste}})]),t._v(" "),e("td",[t._v(t._s(t.formattedTime(o.updated_at)))]),t._v(" "),e("td",[e("switches",{attrs:{theme:"bootstrap",color:o.display?"success":"danger","type-bold":!0},model:{value:o.display,callback:function(a){t.$set(o,"display",a)},expression:"sub.display"}})],1)])}),0)])]],2)])])]),t._v(" "),t.subModuleLoad||t.moduleLoad?t._e():e("div",{staticClass:"card-footer"},[e("button",{staticClass:"btn btn-primary float-right",on:{click:function(e){return t.updateDashboard(a,t.subModuleData)}}},[e("i",{staticClass:"fas fa-sync-alt"}),t._v("Â "+t._s(t.trans("update"))+"\n            ")])])])]})]],2)},staticRenderFns:[]}}},[4437]);