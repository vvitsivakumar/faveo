webpackJsonp([14],{4292:function(t,e,a){t.exports=a(4293)},4293:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(38),i=(a.n(n),a(11)),o=a(27),r=a(31),s=a.n(r),l=a(4294),d=a.n(l),c=a(4299),u=a.n(c),p=a(24),_={path:"/azure-active-directory",component:s.a,name:"Azure",redirect:"/azure-active-directory/settings",children:[{path:"settings",component:d.a,name:"AzureActiveDirectory Settings",meta:{title:"azure_configuration_settings",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},active:"azure_configuration_settings"}}},{path:"create",component:u.a,name:"AzureActiveDirectory Create",meta:{title:"azure_configuration_settings",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"azure_configuration_settings",to:"/azure-active-directory"},active:"create"}}},{path:":id/edit",component:u.a,name:"AzureActiveDirectory Edit",meta:{title:"azure_configuration_settings",crumb:{link:{name:"admin_panel",to:"/"},root_link:{name:"plugins",to:"/plugins"},parent_link:{name:"azure_configuration_settings",to:"/azure-active-directory"},active:"edit"}}}]};o.a.addRoutes([_]);new Vue({el:"#azure-active-directory-settings",store:i.a});p.injectComponentIntoView("azure-login",a(4304),"login-box-mounted","login-box")},4294:function(t,e,a){var n=a(0)(a(4297),a(4298),!1,function(t){a(4295)},"data-v-f9179b7e",null);t.exports=n.exports},4295:function(t,e,a){var n=a(4296);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(2)("62706f6e",n,!0,{})},4296:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".right[data-v-f9179b7e]{float:right}.hide-checkbox[data-v-f9179b7e]{height:25px}",""])},4297:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(7),i=a(3),o=a.n(i),r=a(6),s=a(17),l=a.n(s),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default={name:"AzureActiveDirectoryIndex",data:function(){var t=this;return{isLoading:!1,hideDefaultLogin:!1,columns:["app_name","app_id","created_at","updated_at","action"],options:{texts:{filter:"",limit:""},headings:{app_name:"App Name",app_id:"App Id",created_at:"Created At",updated_at:"Updated At",action:"Action"},templates:{action:"data-table-actions",created_at:function(e,a){return t.formattedTime(a.created_at)},updated_at:function(e,a){return t.formattedTime(a.updated_at)}},sortable:["app_name","app_id","created_at","updated_at"],filterable:["app_name","app_id","created_at","updated_at"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter:function(t){return{sort_field:t.orderBy?t.orderBy:"id",sort_order:t.ascending?"desc":"asc",search_query:t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=this,n=e.data;return t.hideDefaultLogin=n.data.hide_default_login,{data:n.data.directories.data.map(function(t){return t.edit_url="/azure-active-directory/"+t.id+"/edit",t.delete_url=a.basePath()+"/api/azure-active-directory/settings/"+t.id,t}),count:n.data.directories.total}}},apiUrl:"api/azure-active-directory/settings"}},methods:{updateHideDefaultLogin:function(){var t=this;this.isLoading=!0;var e={hide_default_login:this.hideDefaultLogin};o.a.post("api/azure-active-directory/hide-default-login",e).then(function(t){Object(r.b)(t,"azure-list-page")}).catch(function(t){Object(r.a)(t,"azure-list-page")}).finally(function(){t.isLoading=!1})}},computed:d({},Object(n.b)(["formattedTime"])),components:{"data-table":a(14),alert:a(5),"faveo-box":l.a,loader:a(9)}}},4298:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[a("alert",{attrs:{componentName:"dataTableModal"}}),t._v(" "),a("faveo-box",{attrs:{title:t.trans("list_of_azure_active_directories")}},[a("alert",{attrs:{componentName:"azure-list-page"}}),t._v(" "),t.isLoading?a("loader",{attrs:{duration:4e3}}):t._e(),t._v(" "),a("div",{staticClass:"card-tools d-flex mt-1",attrs:{slot:"headerMenu"},slot:"headerMenu"},[a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("create_new_directory"),expression:"trans('create_new_directory')"}],staticClass:"btn btn-tool",attrs:{to:"/azure-active-directory/create"}},[a("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("hide_default_login"),expression:"trans('hide_default_login')"}],staticClass:"btn-tool"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.hideDefaultLogin,expression:"hideDefaultLogin"}],staticClass:"hide-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hideDefaultLogin)?t._i(t.hideDefaultLogin,null)>-1:t.hideDefaultLogin},on:{change:[function(e){var a=t.hideDefaultLogin,n=e.target,i=!!n.checked;if(Array.isArray(a)){var o=t._i(a,null);n.checked?o<0&&(t.hideDefaultLogin=a.concat([null])):o>-1&&(t.hideDefaultLogin=a.slice(0,o).concat(a.slice(o+1)))}else t.hideDefaultLogin=i},function(e){return t.updateHideDefaultLogin()}]}})])],1),t._v(" "),a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options}})],1)],1)},staticRenderFns:[]}},4299:function(t,e,a){var n=a(0)(a(4302),a(4303),!1,function(t){a(4300)},"data-v-78ef2b70",null);t.exports=n.exports},4300:function(t,e,a){var n=a(4301);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(2)("52c4595e",n,!0,{})},4301:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"",""])},4302:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(17),i=a.n(n),o=a(333),r=a(3),s=a.n(r),l=a(6),d=a(4);e.default={name:"AzureActiveDirectorySettings",data:function(){return{app_name:"",app_id:"",app_secret:"",tenant_id:"",login_button_label:"",hasDataPopulated:!0,loading:!1,azureAdId:null}},beforeMount:function(){var t=Object(d.p)(window.location.pathname);this.azureAdId=t||"",this.azureAdId&&this.getConfiguration()},methods:{onChange:function(t,e){this[e]=t},isValid:function(){return Object(o.a)(this.$data).isValid},saveConfiguration:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValid()&&(this.loading=!0,s.a.post("api/azure-active-directory/settings",{id:this.azureAdId,app_name:this.app_name,tenant_id:this.tenant_id,app_id:this.app_id,app_secret:this.app_secret,login_button_label:this.login_button_label,import:e}).then(function(e){t.loading=!1,t.hasDataPopulated=!0,Object(l.b)(e,"AzureActiveDirectorySettings"),t.azureAdId&&setTimeout(function(){t.$router.push({name:"AzureActiveDirectory Settings"})},3e3),t.azureAdId=e.data.data.azure_ad_id,t.getConfiguration()}).catch(function(e){t.loading=!1,Object(l.a)(e,"AzureActiveDirectorySettings")}).finally(function(){t.loading=!1}))},getConfiguration:function(){var t=this;this.loading=!0,s.a.get("api/azure-active-directory/settings/"+this.azureAdId).then(function(e){t.app_name=e.data.data.app_name,t.tenant_id=e.data.data.tenant_id,t.app_id=e.data.data.app_id,t.app_secret=e.data.data.app_secret,t.login_button_label=e.data.data.login_button_label}).catch(function(t){Object(l.a)(t,"AzureActiveDirectorySettings")}).finally(function(){t.loading=!1})}},components:{"static-select":a(25),"text-field":a(12),alert:a(5),"custom-loader":a(9),checkbox:a(39),"faveo-box":i.a}}},4303:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[!1===t.hasDataPopulated||!0===t.loading?a("div",{staticClass:"row"},[a("custom-loader")],1):t._e(),t._v(" "),a("alert",{attrs:{componentName:"AzureActiveDirectorySettings"}}),t._v(" "),t.hasDataPopulated?a("div",[a("faveo-box",{attrs:{title:t.lang("configuration_settings")}},[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("app_name"),value:t.app_name,type:"text",name:"app_name",onChange:t.onChange,classname:"col-md-6",required:!0,id:"app-name"}}),t._v(" "),a("text-field",{attrs:{label:t.lang("tenant_id"),value:t.tenant_id,type:"text",name:"tenant_id",onChange:t.onChange,classname:"col-sm-6",required:!0,id:"tenant-id"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("app_id"),value:t.app_id,type:"text",name:"app_id",onChange:t.onChange,classname:"col-sm-6",required:!0,id:"app-id"}}),t._v(" "),a("text-field",{attrs:{label:t.trans("app_secret"),value:t.app_secret,type:"password",name:"app_secret",onChange:t.onChange,classname:"col-sm-6",required:!0,id:"app-secret"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.trans("login_button_label"),value:t.login_button_label,type:"text",name:"login_button_label",onChange:t.onChange,classname:"col-sm-6",id:"login-button-label"}}),t._v(" "),a("text-field",{attrs:{label:t.trans("azure_redirect_uri"),hint:t.trans("azure_redirect_uri_hint"),value:t.basePath()+"/azure-active-directory/auth-token/callback",type:"text",name:"login_button_label",onChange:t.onChange,classname:"col-sm-6",disabled:!0}})],1),t._v(" "),a("div",{staticClass:"card-footer",attrs:{slot:"actions"},slot:"actions"},[a("button",{staticClass:"btn btn-primary",attrs:{id:"azure-settings-save",disabled:t.loading},on:{click:function(){return t.saveConfiguration(!1)}}},[a("span",{staticClass:"fas fa-save"}),t._v(" \n                    "+t._s(t.lang("save"))+"\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{id:"azure-settings-submit",disabled:t.loading},on:{click:function(){return t.saveConfiguration(!0)}}},[a("span",{staticClass:"fas fa-save"}),t._v(" \n                    "+t._s(t.lang("save_and_import"))+"\n                ")])])])],1):t._e()],1)},staticRenderFns:[]}},4304:function(t,e,a){var n=a(0)(a(4307),a(4308),!1,function(t){a(4305)},null,null);t.exports=n.exports},4305:function(t,e,a){var n=a(4306);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(2)("5bc62678",n,!0,{})},4306:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".azure-login-button{margin-top:5px;margin-bottom:3px}.azure-login-block{text-align:left;margin-bottom:10px}",""])},4307:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(7),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default={props:["data"],data:function(){return{azureSettings:null}},beforeMount:function(){this.azureSettings=JSON.parse(this.data).azure_meta_settings,this.azureSettings.hide_default_login&&this.hideDefaultLogin()},methods:{azureLoginSubmit:function(t){window.location=t},hideDefaultLogin:function(){document.getElementById("user_name").style.display="none",document.getElementById("password").style.display="none",document.getElementById("remember_me").style.display="none",document.getElementById("default-login-button").style.display="none",document.getElementById("default-forgot-password").style.display="none"}},computed:i({},Object(n.b)({buttonStyle:"getButtonStyle",linkStyle:"getLinkStyle"}))}},4308:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.azureSettings?a("div",{attrs:{id:"azure-login"}},[t.azureSettings.hide_default_login?a("img",{staticStyle:{margin:"-60px 0 -10px 92px"},attrs:{src:t.basePath()+"/images/azure.png",alt:t.trans("azure_active_directory"),width:"256",height:"256"}}):t._e(),t._v(" "),t._l(t.azureSettings.directory_settings,function(e,n){return a("span",{staticClass:"azure-login-block"},[a("button",{staticClass:"azure-login-button btn btn-custom btn-block btn-flat",style:t.buttonStyle,attrs:{id:"azure-login-button-"+n},on:{click:function(){return t.azureLoginSubmit(e.login_url)}}},[a("i",{staticClass:"fa fa-server",attrs:{"aria-hidden":"true"}}),t._v("\n        "+t._s(""!==e.login_button_label?e.login_button_label:t.lang("login_via_azure"))+"\n    ")])])})],2):t._e()},staticRenderFns:[]}}},[4292]);